import U from"./DAKP5pNJ.js";import{d as w,u as x,r as S,c as T,w as v,a as E,b as M,i as _,e as g,o as I,Z as F,k as R,t as C}from"./_BmmGIGi.js";import{N as J,f as P,a as b}from"./BwiW5Nlt.js";import{V as k}from"./C7URMWzZ.js";const Z=w({__name:"AddRaw",props:{modelValue:Boolean,methods:{type:Array,required:!0}},emits:["update:modelValue","added-methods"],setup(i,{emit:f}){const l=x(),t=f,d=i,n=S(""),N=s=>{t("update:modelValue",s)},V=()=>{try{const s=y();t("added-methods",s),n.value="",t("update:modelValue",!1),l.successToast("Raw methods added successfully")}catch(s){console.error(s),l.errorToast("Failed to add raw method. Invalid JSON format.")}},y=()=>{const s=JSON.parse(n.value,(a,e)=>e==="true"?!0:e==="false"?!1:e),r=d.methods.length-1;return(s==null?void 0:s.map((a,e)=>{var c,o;const A=r+e+1,p={composable:(a==null?void 0:a.composableUpdates)||[],description:JSON.stringify((a==null?void 0:a.description)||"{}"),entryType:J[a==null?void 0:a.entryType].toString()||"",illiquid:(a==null?void 0:a.illiquidUpdates)||[],isPastNAVUpdate:(a==null?void 0:a.isPastNAVUpdate)||!1,liquid:(a==null?void 0:a.liquidUpdates)||[],nft:(a==null?void 0:a.nftUpdates)||[],pastNAVUpdateEntryIndex:(a==null?void 0:a.pastNAVUpdateEntryIndex)||0,pastNAVUpdateIndex:(a==null?void 0:a.pastNAVUpdateIndex)||0},u=P(p)||"{}";return{index:A,isNew:!0,details:p,detailsHash:R(C(u)),detailsJson:u,foundMatchingPastNAVUpdateEntryFundAddress:(a==null?void 0:a.foundMatchingPastNAVUpdateEntryFundAddress)||!1,isSimulatedNavError:(a==null?void 0:a.isSimulatedNavError)||!1,pastNAVUpdateEntryFundAddress:(a==null?void 0:a.pastNAVUpdateEntryFundAddress)||F,positionName:((c=a==null?void 0:a.description)==null?void 0:c.positionName)||"",positionType:b[a==null?void 0:a.entryType]||"",simulatedNav:(a==null?void 0:a.simulatedNav)||0n,simulatedNavFormatted:(a==null?void 0:a.simulatedNavFormatted)||"0 USDC",valuationSource:((o=a==null?void 0:a.description)==null?void 0:o.valuationSource)||""}}))||[]};return(s,r)=>{const a=U;return I(),T(a,{"model-value":i.modelValue,title:"Import Raw Methods","max-width":"80%","confirm-text":"Load","cancel-text":"Cancel",onConfirm:V,"onUpdate:modelValue":N},{default:v(()=>[r[1]||(r[1]=E("div",{class:"mb-2"}," Please enter the raw methods JSON ",-1)),M(k,{modelValue:g(n),"onUpdate:modelValue":r[0]||(r[0]=e=>_(n)?n.value=e:null),label:"Raw Methods",outlined:"",placeholder:"Enter the raw methods here",rows:"20",class:"raw-method-textarea"},null,8,["modelValue"])]),_:1},8,["model-value"])}}});export{Z as _};
