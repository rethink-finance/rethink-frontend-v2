import ae from"./CVAO7RcL.js";import R from"./C3wRWmyj.js";import{d as j,r as p,cC as N,c as u,w as I,b as x,cK as G,dI as H,e as l,i as V,o as s,_ as $,h as k,f as B,cF as y,a as D,cH as ie,z as K,G as J,q as Q,c8 as O,l as se}from"./_BmmGIGi.js";import{u as de}from"./DxTlZv4G.js";import{P as W,p as oe,I as b,T as C,d as ne}from"./cVa1OdO9.js";import{V as ue}from"./B9vFmp28.js";import{V as E}from"./D_-Msn7h.js";import{V as M}from"./DtO3A6PH.js";import{b as Y}from"./D5-R3KnC.js";import{V as X}from"./C7URMWzZ.js";import{a as re}from"./DcNhhkuR.js";import{V as me}from"./Cx6b7hxJ.js";import{V as Z}from"./D1-uxwBm.js";import{V as ce}from"./C4hVFzQI.js";import{f as fe}from"./CKS8D1OD.js";import{b as be}from"./BlSCcxsD.js";import{V as Ve}from"./E_YhHG9T.js";const ve=j({__name:"TimeToBlocks",props:{modelValue:{type:[Number,String],default:void 0},chainId:{type:String,default:""},placeholder:{type:String,default:""},isDisabled:{type:Boolean,default:!1},customErrorMessage:{type:String,default:""},rules:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(e,{emit:S}){const h=S,d=de(),t=e,n=p(""),c=p(void 0),a=p(W.Days),v=p(0),i=p(!1),m=p(!1),f=r=>{const o=C[a.value],g=r/o;if(g>=1&&g<1e3)return{bestValue:parseFloat(g.toFixed(2)),bestUnit:a.value};let T=W.Seconds,z=r;const A=Object.keys(C);for(let P=A.length-1;P>=0;P--){const q=A[P],te=C[q],L=r/te;if(L>=1){z=L,T=q;break}}return{bestValue:parseFloat(z.toFixed(3)),bestUnit:T}},w=async()=>{if(!t.chainId){v.value=0;return}i.value=!0;const r=await d.initializeBlockTimeContext(t.chainId);v.value=(r==null?void 0:r.averageBlockTime)||0,i.value=!1},F=async()=>{if(await w(),v.value<=0)return;const r=C[a.value],o=Number(n.value);isNaN(o)?c.value=void 0:c.value=Math.floor(o*r/v.value),h("update:modelValue",c.value)},U=async()=>{if(await w(),v.value<=0||t.modelValue==null)return;m.value=!0;const r=Number(t.modelValue)*v.value,{bestValue:o,bestUnit:g}=f(r);n.value=o.toString(),a.value=g};return N(()=>t.modelValue,()=>{t.modelValue!==c.value&&U()},{immediate:!0}),N([n,a],()=>{F()}),N(()=>t.chainId,()=>{U()}),(r,o)=>{const g=le;return s(),u(ue,{class:"time-to-blocks"},{default:I(()=>[x(E,{class:"column",cols:"5"},{default:I(()=>[G(x(M,{type:"text",class:"skeleton-text-field"},null,512),[[H,l(i)]]),G(x(Y,{modelValue:l(n),"onUpdate:modelValue":o[0]||(o[0]=T=>V(n)?n.value=T:null),type:"number",placeholder:e.placeholder,disabled:e.isDisabled,rules:e.rules,"error-messages":e.customErrorMessage},null,8,["modelValue","placeholder","disabled","rules","error-messages"]),[[H,!l(i)]])]),_:1}),x(E,{class:"column",cols:"4"},{default:I(()=>[l(i)?(s(),u(M,{key:0,type:"text",class:"skeleton-text-field"})):(s(),u(g,{key:1,modelValue:l(a),"onUpdate:modelValue":o[1]||(o[1]=T=>V(a)?a.value=T:null),class:"padding-bottom",field:{label:"Unit",type:l(b).Select,choices:l(oe),isEditable:!0},"is-disabled":e.isDisabled},null,8,["modelValue","field","is-disabled"]))]),_:1}),x(E,{class:"column",cols:"3"},{default:I(()=>[l(i)?(s(),u(M,{key:0,type:"text",class:"skeleton-text-field"})):(s(),u(g,{key:1,"model-value":l(c),rules:e.rules,class:"move-up",field:{label:"Blocks",type:l(b).Number,isEditable:!1}},null,8,["model-value","rules","field"]))]),_:1})]),_:1})}}}),_=$(ve,[["__scopeId","data-v-39393ba4"]]),Re=Object.freeze(Object.defineProperty({__proto__:null,default:_},Symbol.toStringTag,{value:"Module"})),ge={class:"field-input"},ye={key:5,class:"image_container",tabindex:"-1"},xe=["src"],he=j({__name:"FieldInput",props:{field:{type:Object,required:!0},modelValue:{type:[String,Number,Array,Boolean],default:()=>{}},isDisabled:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1},customErrorMessage:{type:String,default:""},chainId:{type:String,default:""},tabIndex:{type:Number,default:void 0}},emits:["update:modelValue"],setup(e,{emit:S}){const h=e,d=S,t=k({get:()=>h.modelValue,set:c=>d("update:modelValue",c)}),n=k(()=>h.customErrorMessage?[h.customErrorMessage]:[]);return(c,a)=>{const v=_;return s(),B("div",ge,[[l(b).Text,l(b).Number].includes(e.field.type)?(s(),u(Y,{key:0,modelValue:l(t),"onUpdate:modelValue":a[0]||(a[0]=i=>V(t)?t.value=i:null),placeholder:e.field.placeholder,type:e.field.type,min:e.field.min,rules:e.field.rules,disabled:e.isDisabled,"error-messages":l(n),tabindex:e.tabIndex},null,8,["modelValue","placeholder","type","min","rules","disabled","error-messages","tabindex"])):e.field.type===l(b).Textarea?(s(),u(X,{key:1,modelValue:l(t),"onUpdate:modelValue":a[1]||(a[1]=i=>V(t)?t.value=i:null),placeholder:e.field.placeholder,rules:e.field.rules,"auto-grow":"",disabled:e.isDisabled,"error-messages":l(n),tabindex:e.tabIndex},null,8,["modelValue","placeholder","rules","disabled","error-messages","tabindex"])):e.field.type===l(b).Select?(s(),u(re,{key:2,modelValue:l(t),"onUpdate:modelValue":a[2]||(a[2]=i=>V(t)?t.value=i:null),rules:e.field.rules,items:e.field.choices,"item-title":"title","item-value":"value",density:"compact",disabled:e.isDisabled,"error-messages":l(n),tabindex:e.tabIndex},null,8,["modelValue","rules","items","disabled","error-messages","tabindex"])):e.field.type===l(b).Checkbox?(s(),u(me,{key:3,modelValue:l(t),"onUpdate:modelValue":a[3]||(a[3]=i=>V(t)?t.value=i:null),disabled:e.isDisabled,"error-messages":l(n),tabindex:e.tabIndex},null,8,["modelValue","disabled","error-messages","tabindex"])):e.field.type===l(b).ToggleSwitch?(s(),u(Z,{key:4,modelValue:l(t),"onUpdate:modelValue":a[4]||(a[4]=i=>V(t)?t.value=i:null),disabled:e.isDisabled,"error-messages":l(n),tabindex:e.tabIndex,color:"primary","hide-details":""},null,8,["modelValue","disabled","error-messages","tabindex"])):e.field.type===l(b).Image?(s(),B("div",ye,[x(ce,{size:"12rem",rounded:"",tabindex:"-1"},{default:I(()=>[D("img",{src:l(t),class:"image_container__image",alt:"image"},null,8,xe)]),_:1}),x(X,{modelValue:l(t),"onUpdate:modelValue":a[5]||(a[5]=i=>V(t)?t.value=i:null),class:"image_container__textarea",placeholder:e.field.placeholder,rules:e.field.rules,rows:"10",disabled:e.isDisabled,"error-messages":l(n),tabindex:e.tabIndex},null,8,["modelValue","placeholder","rules","disabled","error-messages","tabindex"])])):e.field.type===l(b).Period?(s(),u(v,{key:6,modelValue:l(t),"onUpdate:modelValue":a[6]||(a[6]=i=>V(t)?t.value=i:null),rules:e.field.rules,placeholder:e.field.placeholder,"is-disabled":e.isDisabled,"error-messages":l(n),"chain-id":e.chainId,tabindex:e.tabIndex},null,8,["modelValue","rules","placeholder","is-disabled","error-messages","chain-id","tabindex"])):y("",!0)])}}}),ee=$(he,[["__scopeId","data-v-e06b1a68"]]),Ge=Object.freeze(Object.defineProperty({__proto__:null,default:ee},Symbol.toStringTag,{value:"Module"})),ke={class:"field-actions-container",tabindex:"-1"},Ie={key:0,class:"row_title__small"},we={key:1,class:"row_title__small"},Te={class:"field-input"},pe=j({inheritAttrs:!1,__name:"Field",props:{chainId:{type:String,default:""},field:{type:Object,default:()=>({})},modelValue:{type:[String,Number,Array,Boolean],default:void 0},isCustomValueToggleOn:{type:Boolean,default:void 0},customErrorMessage:{type:String,default:()=>""},isDisabled:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1},showDefaultValueInfo:{type:Boolean,default:!1},initialValue:{type:[String,Number,Array,Boolean],default:void 0},tabIndex:{type:Number,default:void 0}},emits:["update:modelValue","update:isCustomValueToggleOn"],setup(e,{emit:S}){const h=S,d=e,t=k(()=>{var m,f;return(f=(m=d==null?void 0:d.field)==null?void 0:m.rules)==null?void 0:f.includes(fe.required)}),n=k(()=>d.isDisabled||!d.field.isEditable||d.isPreview),c=k({get:()=>d.isCustomValueToggleOn,set:m=>h("update:isCustomValueToggleOn",m)}),a=k({get:()=>d.modelValue,set:m=>h("update:modelValue",m)});ie(()=>{var m,f,w;((m=d.field)==null?void 0:m.defaultValue)===null||d.modelValue!=null||(a.value=((f=d.field)==null?void 0:f.defaultValue)??ne[(w=d.field)==null?void 0:w.type])});const v=k(()=>d.initialValue===void 0?!1:a.value!==d.initialValue),i=k(()=>["field",{label_preview:d.isPreview},{is_modified:v.value}]);return(m,f)=>{const w=ae,F=se("Icon"),U=R,r=ee;return s(),B("div",K({class:l(i)},m.$attrs),[D("div",ke,[x(be,{tabindex:"-1",class:J("row_title"+(e.field.type===l(b).Image?" row_title__is-image":""))},{default:I(()=>{var o;return[D("div",{class:J("row_title__title"+(l(t)&&e.field.isEditable&&!e.isPreview?" label_required":"")+(e.isDisabled&&!e.isPreview?" label_disabled":""))},[Q(O(e.field.label)+" ",1),!e.field.isEditable&&!e.isPreview?(s(),B("span",Ie," (readonly) ")):y("",!0),e.field.tag?(s(),B("span",we," ("+O(e.field.tag)+") ",1)):y("",!0)],2),e.field.charLimit&&!e.isPreview?(s(),u(w,{key:0,"char-limit":e.field.charLimit,"char-number":l(a),tabindex:"-1"},null,8,["char-limit","char-number"])):y("",!0),(o=e.field)!=null&&o.tooltip?(s(),u(Ve,{key:1,location:"top",tabindex:"-1"},{activator:I(({props:g})=>[x(F,K(g,{icon:"octicon:question-16",width:"1.25rem",class:"row_title__tooltip",tabindex:"-1"}),null,16)]),default:I(()=>[Q(" "+O(e.field.tooltip),1)]),_:1})):y("",!0)]}),_:1},8,["class"]),!l(n)&&e.isCustomValueToggleOn!==void 0?(s(),u(Z,{key:0,modelValue:l(c),"onUpdate:modelValue":f[0]||(f[0]=o=>V(c)?c.value=o:null),color:"primary",tabindex:e.tabIndex,"hide-details":""},null,8,["modelValue","tabindex"])):y("",!0)]),D("div",Te,[e.field.defaultValueInfo?(s(),u(U,{key:0,info:e.field.defaultValueInfo},null,8,["info"])):y("",!0),e.isCustomValueToggleOn!==void 0&&!e.isCustomValueToggleOn?y("",!0):(s(),u(r,{key:1,modelValue:l(a),"onUpdate:modelValue":f[1]||(f[1]=o=>V(a)?a.value=o:null),field:e.field,"is-disabled":l(n),"is-preview":e.isPreview,"custom-error-message":e.customErrorMessage,"chain-id":e.chainId,"tab-index":e.tabIndex},null,8,["modelValue","field","is-disabled","is-preview","custom-error-message","chain-id","tab-index"]))]),e.field.info&&!e.isPreview?(s(),u(R,{key:0,info:e.field.info,class:"info_box"},null,8,["info"])):y("",!0)],16)}}}),le=$(pe,[["__scopeId","data-v-e11fa3de"]]),He=Object.freeze(Object.defineProperty({__proto__:null,default:le},Symbol.toStringTag,{value:"Module"}));export{Ge as F,Re as T,le as _,He as a};
