import{h as X,u as Kn,I as et,J as V,K as qn,M as Yn,O as $e,Q as Qn,S as Xn,P as ze,C as q,F as zn}from"./CL_pIM7N.js";import{V as tt,a as At}from"./COuEhvrh.js";import{du as ne,dw as wt,d as Se,r as re,h as k,cf as de,f as N,a as $,b as Z,e as h,i as Ue,o as E,_ as Te,dC as Zn,c as ae,eO as ea,d1 as ke,cF as z,l as ta,p as Le,c8 as oe,cB as ye,w as nt,cY as at,eP as na,cg as aa,eQ as oa,F as ra,d4 as ia}from"./D3HDfnxy.js";import sa from"./CMDKgJFj.js";import{f as la}from"./Ce8rn2uW.js";import{b as ca}from"./C8Z2lGgf.js";import{_ as ua}from"./DAa023eC.js";import da from"./B2xZHB7-.js";var Ze,It;function fa(){if(It)return Ze;It=1;var a="Expected a function",v=NaN,j="[object Symbol]",l=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,O=/^0o[0-7]+$/i,S=parseInt,b=typeof ne=="object"&&ne&&ne.Object===Object&&ne,T=typeof self=="object"&&self&&self.Object===Object&&self,c=b||T||Function("return this")(),f=Object.prototype,m=f.toString,p=Math.max,g=Math.min,y=function(){return c.Date.now()};function u(d,x,D){var M,W,J,F,P,w,G=0,ee=!1,ie=!1,be=!0;if(typeof d!="function")throw new TypeError(a);x=R(x)||0,i(D)&&(ee=!!D.leading,ie="maxWait"in D,J=ie?p(R(D.maxWait)||0,x):J,be="trailing"in D?!!D.trailing:be);function _e(I){var K=M,se=W;return M=W=void 0,G=I,F=d.apply(se,K),F}function Re(I){return G=I,P=setTimeout(fe,x),ee?_e(I):F}function C(I){var K=I-w,se=I-G,je=x-K;return ie?g(je,J-se):je}function Ee(I){var K=I-w,se=I-G;return w===void 0||K>=x||K<0||ie&&se>=J}function fe(){var I=y();if(Ee(I))return H(I);P=setTimeout(fe,C(I))}function H(I){return P=void 0,be&&M?_e(I):(M=W=void 0,F)}function Ae(){P!==void 0&&clearTimeout(P),G=0,M=w=W=P=void 0}function Ie(){return P===void 0?F:H(y())}function ve(){var I=y(),K=Ee(I);if(M=arguments,W=this,w=I,K){if(P===void 0)return Re(w);if(ie)return P=setTimeout(fe,x),_e(w)}return P===void 0&&(P=setTimeout(fe,x)),F}return ve.cancel=Ae,ve.flush=Ie,ve}function i(d){var x=typeof d;return!!d&&(x=="object"||x=="function")}function _(d){return!!d&&typeof d=="object"}function A(d){return typeof d=="symbol"||_(d)&&m.call(d)==j}function R(d){if(typeof d=="number")return d;if(A(d))return v;if(i(d)){var x=typeof d.valueOf=="function"?d.valueOf():d;d=i(x)?x+"":x}if(typeof d!="string")return d===0?d:+d;d=d.replace(l,"");var D=s.test(d);return D||O.test(d)?S(d.slice(2),D?2:8):r.test(d)?v:+d}return Ze=u,Ze}var pa=fa();const ma=wt(pa),ha={class:"execution_options"},ga=Se({__name:"ExecutionOptions",props:{modelValue:{type:Number,required:!0},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(a,{emit:v}){const j=a,l=v,r=re(!1),s=re(!1),O=T=>({allowSend:T===X.BOTH||T===X.SEND,allowDelegateCall:T===X.BOTH||T===X.DELEGATE_CALL}),S=k(()=>r.value&&s.value?X.BOTH:r.value?X.SEND:s.value?X.DELEGATE_CALL:X.NONE);de(()=>j.modelValue,T=>{const c=O(T);r.value=c.allowSend,s.value=c.allowDelegateCall},{immediate:!0});const b=()=>{l("update:modelValue",S.value)};return(T,c)=>(E(),N("div",ha,[$("div",null,[Z(tt,{modelValue:h(r),"onUpdate:modelValue":c[0]||(c[0]=f=>Ue(r)?r.value=f:null),disabled:a.disabled,label:"Allow Sending Ether",onChange:b},null,8,["modelValue","disabled"])]),$("div",null,[Z(tt,{modelValue:h(s),"onUpdate:modelValue":c[1]||(c[1]=f=>Ue(s)?s.value=f:null),disabled:a.disabled,label:"Allow Delegate Call",onChange:b},null,8,["modelValue","disabled"])])]))}}),ya=Te(ga,[["__scopeId","data-v-128ea42e"]]),ba=Se({__name:"ParamConditionInputValue",props:{modelValue:{type:String,default:void 0},param:{type:Object,default:void 0},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(a,{emit:v}){const j=v,l=a,r=Kn(),s=Zn("chainId"),O=re(""),S=ea.defaultAbiCoder(),b=[la.required],T=re([]),c=u=>{if(T.value=[],!l.param)return u;try{return S.encode([l.param],[qn(l.param,u)])}catch(i){return console.error("failed abi encode",l.param,"value",u,"err",i),console.error(i),T.value=[(i==null?void 0:i.message)||""],u}},f=u=>{if(!u||!l.param)return u;console.debug("tryAbi decode",l.param,u);try{const i=l.param.format("full"),_=et(l.param);console.log("tryAbi decode 2 param",l.param,"val:",ke(u),"paramTypeString:",i,"nativeType",_);const A=S.decode([i],u)[0];return _===V.ARRAY||_===V.TUPLE?JSON.stringify(A):A.toString()}catch(i){return console.error("Error decoding value",i,{value:u,param:ke(l.param)}),u}},m=k(()=>{const u=et(l.param);return p[u]}),p={[V.ARRAY]:"[element 0, value 1, ...]",[V.TUPLE]:"[field 0, field 1, ...]",[V.BOOLEAN]:"true",[V.INT]:"-235000000",[V.UINT]:"235000000",[V.ADDRESS]:"0xABF...123",[V.STRING]:"Enter a string",[V.BYTES]:"0x...",[V.BYTES_FIXED]:"0x...",[V.UNSUPPORTED]:"0x..."},g=re();de(O,u=>{if(u!==l.modelValue){const i=c(u)||"";j("update:modelValue",i)}});const y=ma(async u=>{try{console.log("get address label"),g.value=await r.getAddressLabel(u,s)}catch(i){console.error("Error getAddressLabel",u,i)}},250);return de(()=>l.modelValue,u=>{u!==O.value&&(O.value=f(u||""),y(O.value))},{deep:!0,immediate:!0}),(u,i)=>(E(),ae(ca,{modelValue:h(O),"onUpdate:modelValue":i[0]||(i[0]=_=>Ue(O)?O.value=_:null),placeholder:h(m),disabled:a.disabled,rules:b,"error-messages":h(T),hint:h(g),"persistent-hint":!!h(g),variant:"outlined",density:"compact","hide-details":"auto"},null,8,["modelValue","placeholder","disabled","error-messages","hint","persistent-hint"]))}}),_a=Te(ba,[["__scopeId","data-v-ad739e7a"]]),va={class:"param_condition_input permissions__function"},xa={class:"param_condition_input__title"},Ca={key:0},Oa={class:"permissions__function_params"},Sa={key:0,class:"d-flex flex-column flex-grow-1"},Ta={class:"d-flex flex-column flex-grow-1"},Ea={key:1,class:"d-flex flex-grow-1"},Aa=Se({__name:"ParamConditionInput",props:{index:{type:Number,required:!0},param:{type:Object,default:void 0},condition:{type:Object,default:()=>{}},disabled:{type:Boolean,default:!1}},emits:["update:condition"],setup(a,{emit:v}){var y,u;const j=v,l=a,r=re({...l.condition,value:[...((y=l.condition)==null?void 0:y.value)||[]]}),s=k(()=>et(l==null?void 0:l.param)),O=k(()=>Yn(s.value)),S=[{title:"is false",value:$e.FALSE},{title:"is true",value:$e.TRUE}],b=k(()=>Qn(s.value)),T=k(()=>{var i;return((i=b.value)==null?void 0:i.map(_=>({title:Xn[_],value:_})))||[]}),c=()=>{r.value.value.push("")},f=()=>{s.value===V.BOOLEAN&&Object.assign(r.value,{index:l.index,type:O.value,condition:ze.EQUAL_TO,value:[$e.FALSE]}),Object.assign(r.value,{index:l.index,type:O.value,condition:b.value[0],value:[""]})},m=i=>{if(r.value.value.length>1&&i!==void 0){r.value.value=r.value.value.filter((_,A)=>A!==i);return}Object.assign(r.value,{index:l.index,type:"",condition:"",value:[""]})},p=(i,_)=>{r.value.value[i]=_},g=re({...(u=r.value)==null?void 0:u.condition});return de(()=>r.value,(i,_)=>{g.value===ze.ONE_OF&&g.value!==i.condition&&((i==null?void 0:i.type)===V.BOOLEAN?i.value=[$e.FALSE]:i.value=[i.value[0]||""]),JSON.stringify(i)!==JSON.stringify(l.condition)&&j("update:condition",i),g.value=i.condition},{deep:!0}),de(()=>l.condition,i=>{JSON.stringify(i)!==JSON.stringify(r.value)&&(r.value={...i})},{deep:!0,immediate:!0}),(i,_)=>{var D,M,W,J,F,P;const A=ta("Icon"),R=sa,d=_a,x=ua;return E(),N("div",va,[$("div",xa,[Z(A,{icon:"tabler:point-filled"}),$("div",null,[Le(" ["+oe(a.index)+"] ",1),(D=a.param)!=null&&D.parentName?(E(),N("span",Ca,oe(a.param.parentName),1)):z("",!0),(M=a.param)!=null&&M.name?(E(),N(ye,{key:1},[Le(oe(a.param.name),1)],64)):z("",!0)]),$("div",Oa," ("+oe(((W=a.param)==null?void 0:W.type)||((J=a.condition)==null?void 0:J.type)||"Unknown type")+") ",1)]),!((F=a.condition)!=null&&F.type)&&!a.disabled?(E(),ae(R,{key:0,class:"ms-3 mt-2",onClick:f},{default:nt(()=>_[3]||(_[3]=[Le(" Add Condition ")])),_:1})):h(s)===h(V).BOOLEAN?(E(),ae(At,{key:1,modelValue:h(r).value[0],"onUpdate:modelValue":_[0]||(_[0]=w=>h(r).value[0]=w),items:S,disabled:a.disabled,class:"select_condition_type",label:"Boolean Condition",density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue","disabled"])):(P=a.condition)!=null&&P.type?(E(),N(ye,{key:2},[Z(At,{modelValue:h(r).condition,"onUpdate:modelValue":_[1]||(_[1]=w=>h(r).condition=w),items:h(T),disabled:a.disabled,readonly:a.disabled,label:"Condition",class:"select_condition_type",density:"compact",variant:"outlined","hide-details":"","menu-icon":a.disabled?"":"$dropdown"},null,8,["modelValue","items","disabled","readonly","menu-icon"]),h(r).condition===h(ze).ONE_OF?(E(),N("div",Sa,[$("div",Ta,[(E(!0),N(ye,null,at(h(r).value,(w,G)=>(E(),N("div",{key:G,class:"d-flex"},[Z(d,{"model-value":w,param:a.param,"condition-type":h(r).condition,disabled:a.disabled,"onUpdate:modelValue":ee=>p(G,ee)},null,8,["model-value","param","condition-type","disabled","onUpdate:modelValue"]),a.disabled?z("",!0):(E(),ae(x,{key:0,small:"",onClick:ee=>m(G)},null,8,["onClick"]))]))),128))]),a.disabled?z("",!0):(E(),N("div",{key:0,class:"btn_add_param mx-auto mt-2",onClick:c}," Add Value + "))])):(E(),N("div",Ea,[Z(d,{"model-value":h(r).value[0],param:a.param,"condition-type":h(r).condition,disabled:a.disabled,"onUpdate:modelValue":_[2]||(_[2]=w=>p(0,w))},null,8,["model-value","param","condition-type","disabled"]),a.disabled?z("",!0):(E(),ae(x,{key:0,small:"",onClick:m}))]))],64)):z("",!0)])}}}),Ia=Te(Aa,[["__scopeId","data-v-aeea5cf0"]]);typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ja=a=>typeof a<"u";function wa(a){return JSON.parse(JSON.stringify(a))}function Pt(a,v,j,l={}){var r,s,O;const{clone:S=!1,passive:b=!1,eventName:T,deep:c=!1,defaultValue:f,shouldEmit:m}=l,p=na(),g=j||(p==null?void 0:p.emit)||((r=p==null?void 0:p.$emit)==null?void 0:r.bind(p))||((O=(s=p==null?void 0:p.proxy)==null?void 0:s.$emit)==null?void 0:O.bind(p==null?void 0:p.proxy));let y=T;y=y||`update:${v.toString()}`;const u=A=>S?typeof S=="function"?S(A):wa(A):A,i=()=>ja(a[v])?u(a[v]):f,_=A=>{m?m(A)&&g(y,A):g(y,A)};if(b){const A=i(),R=re(A);let d=!1;return de(()=>a[v],x=>{d||(d=!0,R.value=u(x),aa(()=>d=!1))}),de(R,x=>{!d&&(x!==a[v]||c)&&_(x)},{deep:c}),R}else return k({get(){return i()},set(A){_(A)}})}var Oe={exports:{}};Oe.exports;var jt;function Pa(){return jt||(jt=1,function(a,v){var j=200,l="__lodash_hash_undefined__",r=9007199254740991,s="[object Arguments]",O="[object Array]",S="[object Boolean]",b="[object Date]",T="[object Error]",c="[object Function]",f="[object GeneratorFunction]",m="[object Map]",p="[object Number]",g="[object Object]",y="[object Promise]",u="[object RegExp]",i="[object Set]",_="[object String]",A="[object Symbol]",R="[object WeakMap]",d="[object ArrayBuffer]",x="[object DataView]",D="[object Float32Array]",M="[object Float64Array]",W="[object Int8Array]",J="[object Int16Array]",F="[object Int32Array]",P="[object Uint8Array]",w="[object Uint8ClampedArray]",G="[object Uint16Array]",ee="[object Uint32Array]",ie=/[\\^$.*+?()[\]{}|]/g,be=/\w*$/,_e=/^\[object .+?Constructor\]$/,Re=/^(?:0|[1-9]\d*)$/,C={};C[s]=C[O]=C[d]=C[x]=C[S]=C[b]=C[D]=C[M]=C[W]=C[J]=C[F]=C[m]=C[p]=C[g]=C[u]=C[i]=C[_]=C[A]=C[P]=C[w]=C[G]=C[ee]=!0,C[T]=C[c]=C[R]=!1;var Ee=typeof ne=="object"&&ne&&ne.Object===Object&&ne,fe=typeof self=="object"&&self&&self.Object===Object&&self,H=Ee||fe||Function("return this")(),Ae=v&&!v.nodeType&&v,Ie=Ae&&!0&&a&&!a.nodeType&&a,ve=Ie&&Ie.exports===Ae;function I(e,t){return e.set(t[0],t[1]),e}function K(e,t){return e.add(t),e}function se(e,t){for(var n=-1,o=e?e.length:0;++n<o&&t(e[n],n,e)!==!1;);return e}function je(e,t){for(var n=-1,o=t.length,B=e.length;++n<o;)e[B+n]=t[n];return e}function ot(e,t,n,o){for(var B=-1,L=e?e.length:0;++B<L;)n=t(n,e[B],B,e);return n}function Nt(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}function Dt(e,t){return e==null?void 0:e[t]}function rt(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function it(e){var t=-1,n=Array(e.size);return e.forEach(function(o,B){n[++t]=[B,o]}),n}function Me(e,t){return function(n){return e(t(n))}}function st(e){var t=-1,n=Array(e.size);return e.forEach(function(o){n[++t]=o}),n}var Vt=Array.prototype,$t=Function.prototype,we=Object.prototype,Fe=H["__core-js_shared__"],lt=function(){var e=/[^.]+$/.exec(Fe&&Fe.keys&&Fe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ct=$t.toString,te=we.hasOwnProperty,Pe=we.toString,Lt=RegExp("^"+ct.call(te).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ut=ve?H.Buffer:void 0,dt=H.Symbol,ft=H.Uint8Array,Ut=Me(Object.getPrototypeOf,Object),kt=Object.create,Rt=we.propertyIsEnumerable,Mt=Vt.splice,pt=Object.getOwnPropertySymbols,Ft=ut?ut.isBuffer:void 0,Gt=Me(Object.keys,Object),Ge=he(H,"DataView"),xe=he(H,"Map"),He=he(H,"Promise"),We=he(H,"Set"),Je=he(H,"WeakMap"),Ce=he(Object,"create"),Ht=ue(Ge),Wt=ue(xe),Jt=ue(He),Kt=ue(We),qt=ue(Je),mt=dt?dt.prototype:void 0,ht=mt?mt.valueOf:void 0;function le(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function Yt(){this.__data__=Ce?Ce(null):{}}function Qt(e){return this.has(e)&&delete this.__data__[e]}function Xt(e){var t=this.__data__;if(Ce){var n=t[e];return n===l?void 0:n}return te.call(t,e)?t[e]:void 0}function zt(e){var t=this.__data__;return Ce?t[e]!==void 0:te.call(t,e)}function Zt(e,t){var n=this.__data__;return n[e]=Ce&&t===void 0?l:t,this}le.prototype.clear=Yt,le.prototype.delete=Qt,le.prototype.get=Xt,le.prototype.has=zt,le.prototype.set=Zt;function Y(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function en(){this.__data__=[]}function tn(e){var t=this.__data__,n=Be(t,e);if(n<0)return!1;var o=t.length-1;return n==o?t.pop():Mt.call(t,n,1),!0}function nn(e){var t=this.__data__,n=Be(t,e);return n<0?void 0:t[n][1]}function an(e){return Be(this.__data__,e)>-1}function on(e,t){var n=this.__data__,o=Be(n,e);return o<0?n.push([e,t]):n[o][1]=t,this}Y.prototype.clear=en,Y.prototype.delete=tn,Y.prototype.get=nn,Y.prototype.has=an,Y.prototype.set=on;function pe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function rn(){this.__data__={hash:new le,map:new(xe||Y),string:new le}}function sn(e){return Ne(this,e).delete(e)}function ln(e){return Ne(this,e).get(e)}function cn(e){return Ne(this,e).has(e)}function un(e,t){return Ne(this,e).set(e,t),this}pe.prototype.clear=rn,pe.prototype.delete=sn,pe.prototype.get=ln,pe.prototype.has=cn,pe.prototype.set=un;function me(e){this.__data__=new Y(e)}function dn(){this.__data__=new Y}function fn(e){return this.__data__.delete(e)}function pn(e){return this.__data__.get(e)}function mn(e){return this.__data__.has(e)}function hn(e,t){var n=this.__data__;if(n instanceof Y){var o=n.__data__;if(!xe||o.length<j-1)return o.push([e,t]),this;n=this.__data__=new pe(o)}return n.set(e,t),this}me.prototype.clear=dn,me.prototype.delete=fn,me.prototype.get=pn,me.prototype.has=mn,me.prototype.set=hn;function gn(e,t){var n=Ye(e)||Rn(e)?Nt(e.length,String):[],o=n.length,B=!!o;for(var L in e)te.call(e,L)&&!(B&&(L=="length"||$n(L,o)))&&n.push(L);return n}function gt(e,t,n){var o=e[t];(!(te.call(e,t)&&vt(o,n))||n===void 0&&!(t in e))&&(e[t]=n)}function Be(e,t){for(var n=e.length;n--;)if(vt(e[n][0],t))return n;return-1}function yn(e,t){return e&&yt(t,Qe(t),e)}function Ke(e,t,n,o,B,L,Q){var U;if(o&&(U=L?o(e,B,L,Q):o(e)),U!==void 0)return U;if(!De(e))return e;var Ot=Ye(e);if(Ot){if(U=Nn(e),!t)return wn(e,U)}else{var ge=ce(e),St=ge==c||ge==f;if(Fn(e))return On(e,t);if(ge==g||ge==s||St&&!L){if(rt(e))return L?e:{};if(U=Dn(St?{}:e),!t)return Pn(e,yn(U,e))}else{if(!C[ge])return L?e:{};U=Vn(e,ge,Ke,t)}}Q||(Q=new me);var Tt=Q.get(e);if(Tt)return Tt;if(Q.set(e,U),!Ot)var Et=n?Bn(e):Qe(e);return se(Et||e,function(Xe,Ve){Et&&(Ve=Xe,Xe=e[Ve]),gt(U,Ve,Ke(Xe,t,n,o,Ve,e,Q))}),U}function bn(e){return De(e)?kt(e):{}}function _n(e,t,n){var o=t(e);return Ye(e)?o:je(o,n(e))}function vn(e){return Pe.call(e)}function xn(e){if(!De(e)||Un(e))return!1;var t=Ct(e)||rt(e)?Lt:_e;return t.test(ue(e))}function Cn(e){if(!_t(e))return Gt(e);var t=[];for(var n in Object(e))te.call(e,n)&&n!="constructor"&&t.push(n);return t}function On(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function qe(e){var t=new e.constructor(e.byteLength);return new ft(t).set(new ft(e)),t}function Sn(e,t){var n=t?qe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Tn(e,t,n){var o=t?n(it(e),!0):it(e);return ot(o,I,new e.constructor)}function En(e){var t=new e.constructor(e.source,be.exec(e));return t.lastIndex=e.lastIndex,t}function An(e,t,n){var o=t?n(st(e),!0):st(e);return ot(o,K,new e.constructor)}function In(e){return ht?Object(ht.call(e)):{}}function jn(e,t){var n=t?qe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function wn(e,t){var n=-1,o=e.length;for(t||(t=Array(o));++n<o;)t[n]=e[n];return t}function yt(e,t,n,o){n||(n={});for(var B=-1,L=t.length;++B<L;){var Q=t[B],U=void 0;gt(n,Q,U===void 0?e[Q]:U)}return n}function Pn(e,t){return yt(e,bt(e),t)}function Bn(e){return _n(e,Qe,bt)}function Ne(e,t){var n=e.__data__;return Ln(t)?n[typeof t=="string"?"string":"hash"]:n.map}function he(e,t){var n=Dt(e,t);return xn(n)?n:void 0}var bt=pt?Me(pt,Object):Wn,ce=vn;(Ge&&ce(new Ge(new ArrayBuffer(1)))!=x||xe&&ce(new xe)!=m||He&&ce(He.resolve())!=y||We&&ce(new We)!=i||Je&&ce(new Je)!=R)&&(ce=function(e){var t=Pe.call(e),n=t==g?e.constructor:void 0,o=n?ue(n):void 0;if(o)switch(o){case Ht:return x;case Wt:return m;case Jt:return y;case Kt:return i;case qt:return R}return t});function Nn(e){var t=e.length,n=e.constructor(t);return t&&typeof e[0]=="string"&&te.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Dn(e){return typeof e.constructor=="function"&&!_t(e)?bn(Ut(e)):{}}function Vn(e,t,n,o){var B=e.constructor;switch(t){case d:return qe(e);case S:case b:return new B(+e);case x:return Sn(e,o);case D:case M:case W:case J:case F:case P:case w:case G:case ee:return jn(e,o);case m:return Tn(e,o,n);case p:case _:return new B(e);case u:return En(e);case i:return An(e,o,n);case A:return In(e)}}function $n(e,t){return t=t??r,!!t&&(typeof e=="number"||Re.test(e))&&e>-1&&e%1==0&&e<t}function Ln(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Un(e){return!!lt&&lt in e}function _t(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||we;return e===n}function ue(e){if(e!=null){try{return ct.call(e)}catch{}try{return e+""}catch{}}return""}function kn(e){return Ke(e,!0,!0)}function vt(e,t){return e===t||e!==e&&t!==t}function Rn(e){return Mn(e)&&te.call(e,"callee")&&(!Rt.call(e,"callee")||Pe.call(e)==s)}var Ye=Array.isArray;function xt(e){return e!=null&&Gn(e.length)&&!Ct(e)}function Mn(e){return Hn(e)&&xt(e)}var Fn=Ft||Jn;function Ct(e){var t=De(e)?Pe.call(e):"";return t==c||t==f}function Gn(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=r}function De(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Hn(e){return!!e&&typeof e=="object"}function Qe(e){return xt(e)?gn(e):Cn(e)}function Wn(){return[]}function Jn(){return!1}a.exports=kn}(Oe,Oe.exports)),Oe.exports}var Ba=Pa();const Bt=wt(Ba),Na=a=>{let v=0;const j=[];function l(r,s=null,O=""){if(r)for(const S of r)if(S.isTuple()&&S.components){let b=S.name;O&&(b=`${O} ${b}`),l(S==null?void 0:S.components,v,b)}else{const b=oa.from(S);b.index=v,b.parentIndex=s,b.parentName=O,j.push(b),v++}}return l(a),j},Da={class:"target_function_params"},Va={class:"target_function_params__inputs"},$a={key:0,class:"json_field"},La=Se({__name:"TargetFunctionParams",props:{func:{type:Object,default:void 0},funcConditions:{type:Object,default:void 0},sighash:{type:String,default:""},disabled:{type:Boolean,default:!1},showRaw:{type:Boolean,default:!1},onlyShowConditionParams:{type:Boolean,default:!1}},emits:["update:funcConditions"],setup(a,{emit:v}){const j=v,l=a,r=Pt(l,"funcConditions",j,{clone:Bt,passive:!0,deep:!0}),s=k(()=>{var c;return Na((c=l.func)==null?void 0:c.inputs)}),O=k(()=>{var c,f;return((f=(c=r.value)==null?void 0:c.params)==null?void 0:f.reduce((m,p)=>Math.max(m,p.index),-1))??0}),S=k(()=>Array.from({length:O.value+1},(c,f)=>f)),b=c=>{var f,m;return((m=(f=r.value)==null?void 0:f.params)==null?void 0:m.find(p=>{var g;return((g=p==null?void 0:p.index)==null?void 0:g.toString())===c.toString()}))??{index:c,type:"",condition:"",value:[""]}},T=(c,f)=>{var g;if(console.debug("updateConditionByIndex",c,ke(f),ke(r.value)),!((g=r.value)!=null&&g.params))return;const m=r.value.params.filter(y=>y.index!==c);f!=null&&f.type&&m.push(f);const p=m.length?q.SCOPED:q.WILDCARDED;r.value={...r.value,type:p,params:m}};return(c,f)=>{var p;const m=Ia;return E(),N("div",Da,[$("div",Va,[a.showRaw?(E(),N("pre",$a,oe(JSON.stringify((p=h(r))==null?void 0:p.params,null,2)),1)):h(s).length?(E(!0),N(ye,{key:1},at(h(s),(g,y)=>(E(),N(ye,null,[!a.onlyShowConditionParams||b(y).type?(E(),ae(m,{key:0,class:"permissions__function",index:y,param:g,condition:b(y),disabled:a.disabled,"onUpdate:condition":u=>T(y,u)},null,8,["index","param","condition","disabled","onUpdate:condition"])):z("",!0)],64))),256)):(E(!0),N(ye,{key:2},at(h(S),g=>(E(),ae(m,{key:g,class:"permissions__function",index:g,param:void 0,condition:b(g),disabled:a.disabled,"onUpdate:condition":y=>T(g,y)},null,8,["index","condition","disabled","onUpdate:condition"]))),128))])])}}}),Ua=Te(La,[["__scopeId","data-v-ac3378a3"]]);function ka(a){return a.inputs.length?"("+a.inputs.map(v=>v.format("full")).join(", ")+")":"()"}const Ra={class:"permissions__function"},Ma={class:"mt-1"},Fa={class:"permissions__function_params"},Ga={class:"target_function__condition"},Ha={key:0,class:"d-flex align-center"},Wa={class:"json_field me-4"},Ja=Se({__name:"TargetFunction",props:{func:{type:Object,default:void 0},sighash:{type:String,default:""},funcConditions:{type:Object,default:()=>{}},disabled:{type:Boolean,default:!1},onlyShowConditionParams:{type:Boolean,default:!1},isErrorState:{type:Boolean,default:!1}},emits:["update:funcConditions"],setup(a,{emit:v}){const j=v,l=a,r=k(()=>zn(s.value)),s=Pt(l,"funcConditions",j,{clone:Bt,passive:!0,deep:!0}),O=k(()=>{var c;return((c=s==null?void 0:s.value)==null?void 0:c.type)===q.SCOPED}),S=k(()=>l.func?ka(l.func):"(function not found in ABI)"),b=c=>{var m;let f=(m=s==null?void 0:s.value)==null?void 0:m.type;f===q.BLOCKED&&c!==X.NONE&&(f=q.WILDCARDED),s.value={...s.value,executionOption:c,type:f}},T=c=>{var m,p;const f=c&&((m=s==null?void 0:s.value)==null?void 0:m.type)!==q.SCOPED?q.WILDCARDED:q.BLOCKED;s.value={...s.value,params:[],sighash:((p=l.func)==null?void 0:p.selector)||l.sighash,type:f}};return(c,f)=>{const m=ya,p=Ua,g=da;return!a.disabled||a.disabled&&!h(r)?(E(),ae(g,{key:0,"is-expanded":a.disabled&&!h(r),"no-body-padding":"","bg-transparent":"","title-full-height":"",class:ra(["target_function",{"target_function--no-abi":a.isErrorState&&!a.func}])},{title:nt(()=>{var y,u;return[$("div",Ra,[$("div",Ma,[Z(tt,{"model-value":[h(q).WILDCARDED,h(q).SCOPED].includes((y=h(s))==null?void 0:y.type),indeterminate:h(O),disabled:a.disabled,onClick:f[0]||(f[0]=ia(()=>{},["stop"])),"onUpdate:modelValue":T},null,8,["model-value","indeterminate","disabled"])]),$("p",null,[$("span",null,oe(((u=a.func)==null?void 0:u.name)||a.sighash),1),$("span",Fa,oe(h(S)),1)])])]}),body:nt(()=>{var y;return[$("span",Ga,[h(s).executionOption!==void 0?(E(),N("div",Ha,[$("pre",Wa,[f[2]||(f[2]=$("strong",null,"sighash:",-1)),Le(" "+oe((y=a.funcConditions)==null?void 0:y.sighash),1)]),Z(m,{"model-value":h(s).executionOption,disabled:a.disabled,"only-show-condition-params":a.onlyShowConditionParams,"onUpdate:modelValue":b},null,8,["model-value","disabled","only-show-condition-params"])])):z("",!0),Z(p,{"func-conditions":h(s),"onUpdate:funcConditions":f[1]||(f[1]=u=>Ue(s)?s.value=u:null),func:a.func,sighash:a.sighash,disabled:a.disabled,"only-show-condition-params":a.onlyShowConditionParams},null,8,["func-conditions","func","sighash","disabled","only-show-condition-params"])])]}),_:1},8,["is-expanded","class"])):z("",!0)}}}),to=Te(Ja,[["__scopeId","data-v-63c0b972"]]);export{to as _,ma as d};
