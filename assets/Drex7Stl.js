import Ct from"./C3wRWmyj.js";import{_ as be,r as x,cC as fe,f as q,a as w,b as i,c as j,cF as J,w as F,d2 as Ft,i as O,e as o,V as re,o as _,q as G,c8 as ke,O as Xt,fu as pt,n as st,fv as eo,P as Ve,cZ as St,d1 as Tt,d as Ce,c9 as Be,h as $,cu as ye,cY as Ue,d4 as to,Q as nt,u as Ee,y as _e,x as Pe,cT as oo,H as Ae,cv as gt,dZ as ao,dD as so,cK as no,cL as lo,dq as ro,dH as io,dC as uo,cp as co,z as lt,cz as mo,cV as fo,L as vo,dk as po,dl as go,dm as ho,cW as yo,cX as bo,J as _o,e7 as wo,cS as ko,cO as Vo,cP as Co,e4 as Fo,cQ as So,cR as To,df as xo,dg as Po,dh as Ao,dB as No,eS as Io,f0 as Do,e$ as ht,dX as Mo,ex as $o,e9 as Uo,e_ as Ro,d8 as yt,fw as bt,dy as He,fx as xt,ca as Pt,l as At,cx as Ye,ez as qe,fy as _t,eC as Ze,fz as Bo,Z as wt,cB as Eo}from"./_BmmGIGi.js";import{b as Nt}from"./BlSCcxsD.js";import{b as It}from"./D5-R3KnC.js";import{V as Wo}from"./DZ9J1eFE.js";import{_ as zo}from"./B-BrJIQs.js";import Lo from"./B1b9GBsg.js";import Dt from"./CP1Zxs6e.js";import Oo from"./DC-Uhl-Y.js";import{_ as Go}from"./DLxlIX_h.js";import Ho from"./W826IaJy.js";import qo from"./H7YDYKaw.js";import{d as Ko}from"./CyESMgxL.js";import{F as jo,R as Jo,E as Mt,p as Yo,D as Xe,a as $e,b as Qo,c as Zo,V as Ke,W as Xo,l as ea,X as ta,u as oa,i as aa,A as sa}from"./BMM55Xfq.js";import{i as $t}from"./BjIfPQ7A.js";import{z as na,A as la,e as ra,B as ia,r as da}from"./BwiW5Nlt.js";import{b as ua,c as ca,a as je,S as Je,f as ma}from"./CP8Ozqj9.js";import{V as Ut}from"./D_-Msn7h.js";import rt from"./DAKP5pNJ.js";import{I as xe}from"./cVa1OdO9.js";import{f as Rt}from"./CKS8D1OD.js";import{_ as fa}from"./CQ8eDjG2.js";import{V as Re}from"./D1-uxwBm.js";import{u as va,_ as pa,a as ga,b as ha}from"./Dd_Izxqx.js";import ya from"./PfKl3Gg-.js";import{f as ba,_ as _a}from"./CNi4G6Jr.js";import{u as wa,a as ka}from"./MPRDzB1v.js";import{c as Va,e as Ca}from"./DcNhhkuR.js";import{V as Fa}from"./C4hVFzQI.js";import{V as ot,m as Sa,a as at,b as Ta}from"./Cvmx_0El.js";import xa from"./DpsThwoF.js";import{_ as Pa}from"./BO2uj0d2.js";import{_ as Aa}from"./pbz4eYYZ.js";import{_ as Na}from"./CzNzBw4i.js";import{_ as Ia}from"./B4vT_zeS.js";import{u as Da}from"./CE20ZzCL.js";import{V as et}from"./E_YhHG9T.js";import{V as Ma}from"./DWhwHasW.js";import"./BJ2h6DUM.js";import"./B5L2f44s.js";import"./CsjIet9h.js";import"./DeSAm6LB.js";import"./CVAO7RcL.js";import"./DxTlZv4G.js";import"./B9vFmp28.js";import"./DtO3A6PH.js";import"./C7URMWzZ.js";import"./Cx6b7hxJ.js";import"./CmeLstKH.js";import"./BU8YHp3p.js";import"./CzFhc0vV.js";import"./D4QhXGu9.js";import"./BWHNz5Ry.js";import"./BW1CNIvT.js";import"./CbqMunXl.js";import"./CRSZcHhx.js";import"./DpICAjib.js";import"./DRw30qtb.js";import"./CmEKxddJ.js";import"./DNTpA6f4.js";import"./BSRo00oN.js";import"./D0LsXpOS.js";const $a={class:"password_protect"},Ua={class:"password_input"},Ra={__name:"PasswordProtect",props:{isPasswordCorrect:{type:Boolean,default:!1}},emits:["update:isPasswordCorrect"],setup(e,{emit:f}){const a=e,m=f,u=x(""),p=["rethinkCreate","rethinkCreate2025"],r=x(""),l=()=>{p.includes(u.value)?(r.value="",m("update:isPasswordCorrect",!0)):(r.value="Incorrect password. Please try again.",m("update:isPasswordCorrect",!1))};return fe(()=>a.isPasswordCorrect,v=>{v||(u.value="")}),(v,h)=>{const S=Ct;return _(),q("div",$a,[h[3]||(h[3]=w("h2",{class:"title"}," Create Vault ",-1)),w("div",Ua,[i(Nt,{class:"mb-2"},{default:F(()=>h[1]||(h[1]=[G(" Enter password to proceed to the vault creation page ")])),_:1}),i(It,{modelValue:o(u),"onUpdate:modelValue":h[0]||(h[0]=k=>O(u)?u.value=k:null),placeholder:"Password",type:"password",outlined:"",dense:"",onKeydown:Ft(l,["enter"])},null,8,["modelValue"])]),i(re,{color:"primary",onClick:l},{default:F(()=>h[2]||(h[2]=[G(" Submit ")])),_:1}),o(r)?(_(),j(Wo,{key:0,class:"mt-6",type:"error",variant:"tonal",icon:!1},{default:F(()=>[G(ke(o(r)),1)]),_:1})):J("",!0),i(S,{class:"mt-12",info:"rethink.finance is currently in the closed beta stage. <br>Please contact <strong>rok@rethink.finance</strong> for access."})])}}},Ba=be(Ra,[["__scopeId","data-v-d088e7dd"]]),Ne=Xt({id:"createFund",state:()=>({fundInitCache:void 0,askToSaveDraftBeforeRouteLeave:!0}),getters:{accountStore(){return St()},activeAccountAddress(){var e;return(e=this.accountStore.activeAccount)==null?void 0:e.address},web3Store(){return Ve()},fundChainId(){var e,f;return(f=(e=this.fundInitCache)==null?void 0:e.fundSettings)!=null&&f.chainId?this.fundInitCache.fundSettings.chainId:this.selectedStepperChainId||eo.ETHEREUM},fundChainName(){var f;const e=this.fundChainId;return this.fundChainId&&((f=st[this.fundChainId])==null?void 0:f.chainName)||e},onboardingWhitelistLocalStorageKey(){return"onboardingWhitelist_"+this.fundChainId||"undefined"},onboardingStepperEntryLocalStorageKey(){return"onboardingStepperEntry_"+this.fundChainId||"undefined"},fundSettings(){var e;return(e=this.fundInitCache)==null?void 0:e.fundSettings},fundFactoryContractV2Used(){var e;return((e=this.fundSettings)==null?void 0:e.fundFactoryContractV2Used)||!1},fundFactoryContract(){var f;const e=this.fundFactoryContractV2Used()?"fundFactoryContractV2":"fundFactoryContract";return(f=this.web3Store().chainContracts[this.fundChainId()])==null?void 0:f[e]}},actions:{fetchFundInitCache(e,f){return jo("fetchFundInitCacheAction",()=>Wa(e,f))},setSelectedStepperChainId(e){this.selectedStepperChainId=e},clearFundInitCache(){this.fundInitCache=void 0},clearFundLocalStorage(){pt(this.onboardingWhitelistLocalStorageKey),pt(this.onboardingStepperEntryLocalStorageKey)}}}),Ea=async(e,f)=>{if(!f)return{};console.debug("governor fetch 1");const a=Ve();console.debug("governor fetch",f);const m=a.getCustomContract(e,Jo.abi,f),[u,p,r,l,v,h]=await Promise.all([a.callWithRetry(e,()=>m.methods.quorumNumerator().call()),a.callWithRetry(e,()=>m.methods.quorumDenominator().call()),a.callWithRetry(e,()=>m.methods.votingDelay().call()),a.callWithRetry(e,()=>m.methods.votingPeriod().call()),a.callWithRetry(e,()=>m.methods.proposalThreshold().call()),a.callWithRetry(e,()=>m.methods.lateQuorumVoteExtension().call())]);return{quorumNumerator:Number(u),quorumDenominator:Number(p),quorum:na(u,p),votingDelay:Number(r),votingPeriod:Number(l),proposalThreshold:Number(v),lateQuorum:Number(h)}},Bt=async(e,f)=>{const a=Ve();console.debug("fetchBaseTokenDetails");const m=a.getCustomContract(e,Mt,f);console.debug("baseTokenAddress",f);const u=await a.callWithRetry(e,()=>m.methods.decimals().call(),1,[205]);console.debug("baseDecimals",u);const p=await a.callWithRetry(e,()=>m.methods.symbol().call(),1,[205]);return console.debug("baseSymbol",p),[Number(u),p]},Wa=async(e,f)=>{var L,b,g,P,R,Z,V;const a=Ne(),m=Ve();if(a.clearFundInitCache(),!e)throw new Error("No fund chainId provided, cannot fetch fund cache.");if(!f)throw new Error("No deployerAddress provided, cannot fetch fund cache.");const u=(L=m.chainContracts[e])==null?void 0:L.fundFactoryContract,p=(b=m.chainContracts[e])==null?void 0:b.fundFactoryContractV2;let r=!0;console.debug("fetch fundInitCache",e,"deployer:",f);let l=await m.callWithRetry(e,()=>p.methods.getFundInitializationCache(f).call(),0,[205,void 0,-32e3])||{};if((!((g=l==null?void 0:l.fundSettings)!=null&&g.baseToken)||((P=l==null?void 0:l.fundSettings)==null?void 0:P.baseToken)==="0x0000000000000000000000000000000000000000")&&(console.warn("fetch fundInitCache NORMAL v1",e,"deployer:",f),r=!1,l=await m.callWithRetry(e,()=>u.methods.getFundInitializationCache(f).call(),0,[205,void 0,-32e3])||{}),console.warn("fundInitCache",l,"fundFactoryContractV2Used",r),$t(l.fundContractAddr)){console.log("Fund cache doesn't exist.");return}l.governorData=await Ea(e,(R=l==null?void 0:l.fundSettings)==null?void 0:R.governor),l.fundMetadata=JSON.parse(l._fundMetadata||"{}"),l.fundMetadata.chainId=e,console.debug("governor fetch done",l.governorData);const v=(l==null?void 0:l.fundSettings)||{},h=(v==null?void 0:v.feeCollectors)||[],S=((V=(Z=l.fundSettings)==null?void 0:Z.allowedDepositAddrs)==null?void 0:V.join(`
`))||[];console.debug("governor fetch fetchBaseTokenDetails");const[k,Q]=await Bt(e,l.fundSettings.baseToken);return console.debug("BASE DECIMALS & SYMBOL",k,Q),l.fundSettings={...l.fundSettings,chainId:e,whitelist:S,depositFee:((v==null?void 0:v.depositFee)||0).toString(),depositFeeRecipientAddress:h[0]||"",withdrawFee:((v==null?void 0:v.withdrawFee)||0).toString(),withdrawFeeRecipientAddress:h[1]||"",managementFee:((v==null?void 0:v.managementFee)||0).toString(),managementFeeRecipientAddress:h[2]||"",managementFeePeriod:Number(l._feeManagePeriod||0),performanceFee:((v==null?void 0:v.performanceFee)||0).toString(),performanceFeePeriod:Number(l._feePerformancePeriod||0),performanceFeeRecipientAddress:h[3]||"",fundFactoryContractV2Used:r,baseDecimals:k,baseSymbol:Q},a.fundInitCache=l,console.log("fund init cache parsed",Tt(a.fundInitCache)),l},za={class:"onboarding_info_fields"},La={key:1,class:"field_container"},Oa={key:0,class:"base_token_data"},Ga=Ce({__name:"InfoFIelds",props:{chainId:{type:String,default:""},fields:{type:Array,default:()=>[]},isFundInitialized:{type:Boolean,required:!0},step:{type:Number,required:!0}},emits:["deleteRow"],setup(e,{emit:f}){const a=Ne(),{fundChainId:m,fundChainName:u}=Be(a),p=f,r=e,l=x("/"),v=x("/"),h=x(""),S=$(()=>r.isFundInitialized&&r.step>1&&r.step<7),k=b=>b.key==="baseToken"&&h.value||"";fe(()=>{var b;return(b=r.fields.find(g=>g.key==="baseToken"))==null?void 0:b.value},b=>Q(b));const Q=Ko(async b=>{if(h.value="",b){console.debug("Base token changed",m==null?void 0:m.value,b);try{const[g,P]=await Bt(m.value,b);l.value=g,v.value=P}catch(g){console.error("Failed fetching base token symbol & decimals",g),h.value=`Are you sure this is a valid ERC20 token address on ${u==null?void 0:u.value}? Failed fetching its symbol and decimals.`,v.value="/",l.value="/"}}else v.value="/",l.value="/"},300),L=b=>{p("deleteRow",b)};return(b,g)=>{const P=Go,R=Ho,Z=qo;return _(),q("div",za,[(_(!0),q(ye,null,Ue(e.fields,(V,ee)=>(_(),j(Ut,{key:ee,cols:(V==null?void 0:V.cols)??12,class:"pb-2"},{default:F(()=>[V.fields?(_(),j(R,{key:0,"is-toggle-on":V.isToggleOn,"onUpdate:isToggleOn":A=>V.isToggleOn=A,"field-group":V,"is-group-disabled":o(S)},{default:F(({subField:A})=>[i(P,{modelValue:A.value,"onUpdate:modelValue":H=>A.value=H,field:A,"is-disabled":!V.isToggleOn||o(S),"chain-id":e.chainId,"tab-index":ee},null,8,["modelValue","onUpdate:modelValue","field","is-disabled","chain-id","tab-index"])]),_:2},1032,["is-toggle-on","onUpdate:isToggleOn","field-group","is-group-disabled"])):(_(),q("div",La,[i(P,{modelValue:V.value,"onUpdate:modelValue":A=>V.value=A,"is-custom-value-toggle-on":V.isCustomValueToggleOn,"onUpdate:isCustomValueToggleOn":A=>V.isCustomValueToggleOn=A,field:V,"is-disabled":o(S),"custom-error-message":k(V),"show-default-value-info":!e.isFundInitialized,"chain-id":e.chainId},null,8,["modelValue","onUpdate:modelValue","is-custom-value-toggle-on","onUpdate:isCustomValueToggleOn","field","is-disabled","custom-error-message","show-default-value-info","chain-id"]),V.key==="baseToken"?(_(),q("div",Oa,[i(P,{"model-value":o(v),"onUpdate:modelValue":g[0]||(g[0]=A=>O(v)?v.value=A:null),class:"base_token_data__input",field:o(ua),"is-disabled":!0,"chain-id":e.chainId},null,8,["model-value","field","chain-id"]),i(P,{"model-value":o(l),"onUpdate:modelValue":g[1]||(g[1]=A=>O(l)?l.value=A:null),class:"base_token_data__input",field:o(ca),"is-disabled":!0,"chain-id":e.chainId},null,8,["model-value","field","chain-id"])])):J("",!0),V.isFieldByUser?(_(),j(Z,{key:1,small:"",class:"field_delete",onClick:to(A=>L(V),["stop"])},{default:F(()=>[i(nt,{icon:"mdi-delete",color:"error"})]),_:2},1032,["onClick"])):J("",!0)]))]),_:2},1032,["cols"]))),128))])}}}),Ha=be(Ga,[["__scopeId","data-v-b7667569"]]),qa={class:"add-new-field"},Ka=Ce({__name:"AddNewField",emits:["addCustomField"],setup(e,{emit:f}){const a=Ee(),m=f,u=x(!1),p=x(""),r=l=>{if(!l)return a.errorToast("Please enter a field name");const v={label:l,key:la(l),type:xe.Text,value:"",rules:[Rt.required],isEditable:!0,isFieldByUser:!0};m("addCustomField",v),u.value=!1,p.value=""};return(l,v)=>{const h=rt;return _(),q("div",qa,[i(re,{variant:"outlined",style:{display:"block","margin-block":"20px","margin-left":"auto"},onClick:v[0]||(v[0]=S=>u.value=!0)},{default:F(()=>v[6]||(v[6]=[G(" Add Custom Field + ")])),_:1}),i(h,{modelValue:o(u),"onUpdate:modelValue":v[3]||(v[3]=S=>O(u)?u.value=S:null),title:"Add Custom Field","confirm-text":"Add Field","cancel-text":"Cancel",class:"confirm_dialog","max-width":"600px",onConfirm:v[4]||(v[4]=S=>r(o(p))),onCancel:v[5]||(v[5]=S=>u.value=!1)},{default:F(()=>[i(Nt,{class:"mb-2"},{default:F(()=>v[7]||(v[7]=[G(" Enter a name of custom field ")])),_:1}),i(It,{modelValue:o(p),"onUpdate:modelValue":v[1]||(v[1]=S=>O(p)?p.value=S:null),placeholder:"Field Name",outlined:"",dense:"",onKeydown:v[2]||(v[2]=Ft(S=>r(o(p)),["enter"]))},null,8,["modelValue"])]),_:1},8,["modelValue"])])}}}),ja=be(Ka,[["__scopeId","data-v-f162c0a8"]]),Ja={class:"onboarding_whitelist"},Ya={key:0,class:"toggleable_group__toggle"},Qa=Ce({__name:"Whitelist",props:{modelValue:{type:Array,default:()=>[]},whitelistEnabled:{type:Boolean,default:!1},isEditable:{type:Boolean,default:!0}},emits:["update:modelValue","update:whitelistEnabled"],setup(e,{emit:f}){const a=f,m=e,u=$({get:()=>(m==null?void 0:m.modelValue)||[],set:r=>{a("update:modelValue",r)}}),p=$({get:()=>m.whitelistEnabled||!1,set:r=>{a("update:whitelistEnabled",r)}});return(r,l)=>{const v=fa;return _(),q("section",Ja,[e.isEditable?(_(),q("div",Ya,[i(Re,{modelValue:o(p),"onUpdate:modelValue":l[0]||(l[0]=h=>O(p)?p.value=h:null),color:"primary","hide-details":""},null,8,["modelValue"])])):J("",!0),i(v,{modelValue:o(u),"onUpdate:modelValue":l[1]||(l[1]=h=>O(u)?u.value=h:null),"whitelist-enabled":o(p),"onUpdate:whitelistEnabled":l[2]||(l[2]=h=>O(p)?p.value=h:null),"is-editable":e.isEditable},null,8,["modelValue","whitelist-enabled","is-editable"])])}}}),Za=be(Qa,[["__scopeId","data-v-d71f1abd"]]),Xa=(e,f)=>`https://roles-v1.gnosisguild.org/#/${e}:${f}`,it=Symbol.for("vuetify:v-stepper"),Et=_e({color:String,disabled:{type:[Boolean,String],default:!1},prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"}},"VStepperActions"),Wt=Pe()({name:"VStepperActions",props:Et(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(e,f){let{emit:a,slots:m}=f;const{t:u}=oo();function p(){a("click:prev")}function r(){a("click:next")}return Ae(()=>{const l={onClick:p},v={onClick:r};return i("div",{class:"v-stepper-actions"},[i(gt,{defaults:{VBtn:{disabled:["prev",!0].includes(e.disabled),text:u(e.prevText),variant:"text"}}},{default:()=>{var h;return[((h=m.prev)==null?void 0:h.call(m,{props:l}))??i(re,l,null)]}}),i(gt,{defaults:{VBtn:{color:e.color,disabled:["next",!0].includes(e.disabled),text:u(e.nextText),variant:"tonal"}}},{default:()=>{var h;return[((h=m.next)==null?void 0:h.call(m,{props:v}))??i(re,v,null)]}})])}),{}}}),dt=Va("v-stepper-header"),es=_e({color:String,title:String,subtitle:String,complete:Boolean,completeIcon:{type:String,default:"$complete"},editable:Boolean,editIcon:{type:String,default:"$edit"},error:Boolean,errorIcon:{type:String,default:"$error"},icon:String,ripple:{type:[Boolean,Object],default:!0},rules:{type:Array,default:()=>[]}},"StepperItem"),ts=_e({...es(),...io()},"VStepperItem"),ut=Pe()({name:"VStepperItem",directives:{Ripple:ao},props:ts(),emits:{"group:selected":e=>!0},setup(e,f){let{slots:a}=f;const m=so(e,it,!0),u=$(()=>(m==null?void 0:m.value.value)??e.value),p=$(()=>e.rules.every(Q=>Q()===!0)),r=$(()=>!e.disabled&&e.editable),l=$(()=>!e.disabled&&e.editable),v=$(()=>e.error||!p.value),h=$(()=>e.complete||e.rules.length>0&&p.value),S=$(()=>v.value?e.errorIcon:h.value?e.completeIcon:m.isSelected.value&&e.editable?e.editIcon:e.icon),k=$(()=>({canEdit:l.value,hasError:v.value,hasCompleted:h.value,title:e.title,subtitle:e.subtitle,step:u.value,value:e.value}));return Ae(()=>{var P,R,Z;const Q=(!m||m.isSelected.value||h.value||l.value)&&!v.value&&!e.disabled,L=!!(e.title!=null||a.title),b=!!(e.subtitle!=null||a.subtitle);function g(){m==null||m.toggle()}return no(i("button",{class:["v-stepper-item",{"v-stepper-item--complete":h.value,"v-stepper-item--disabled":e.disabled,"v-stepper-item--error":v.value},m==null?void 0:m.selectedClass.value],disabled:!e.editable,onClick:g},[r.value&&ro(!0,"v-stepper-item"),i(Fa,{key:"stepper-avatar",class:"v-stepper-item__avatar",color:Q?e.color:void 0,size:24},{default:()=>{var V;return[((V=a.icon)==null?void 0:V.call(a,k.value))??(S.value?i(nt,{icon:S.value},null):u.value)]}}),i("div",{class:"v-stepper-item__content"},[L&&i("div",{key:"title",class:"v-stepper-item__title"},[((P=a.title)==null?void 0:P.call(a,k.value))??e.title]),b&&i("div",{key:"subtitle",class:"v-stepper-item__subtitle"},[((R=a.subtitle)==null?void 0:R.call(a,k.value))??e.subtitle]),(Z=a.default)==null?void 0:Z.call(a,k.value)])]),[[lo("ripple"),e.ripple&&e.editable,null]])}),{}}}),os=_e({...mo(Sa(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VStepperWindow"),as=Pe()({name:"VStepperWindow",props:os(),emits:{"update:modelValue":e=>!0},setup(e,f){let{slots:a}=f;const m=uo(it,null),u=co(e,"modelValue"),p=$({get(){var r;return u.value!=null||!m?u.value:(r=m.items.value.find(l=>m.selected.value.includes(l.id)))==null?void 0:r.value},set(r){u.value=r}});return Ae(()=>{const r=ot.filterProps(e);return i(ot,lt({_as:"VStepperWindow"},r,{modelValue:p.value,"onUpdate:modelValue":l=>p.value=l,class:["v-stepper-window",e.class],style:e.style,mandatory:!1,touch:!1}),a)}),{}}}),ss=_e({...Ta()},"VStepperWindowItem"),ns=Pe()({name:"VStepperWindowItem",props:ss(),setup(e,f){let{slots:a}=f;return Ae(()=>{const m=at.filterProps(e);return i(at,lt({_as:"VStepperWindowItem"},m,{class:["v-stepper-window-item",e.class],style:e.style}),a)}),{}}}),zt=_e({color:String,...wo(),..._o(),...bo(),...yo(),...ho(),...go(),...po(),...vo(),...fo()},"VSheet"),kt=Pe()({name:"VSheet",props:zt(),setup(e,f){let{slots:a}=f;const{themeClasses:m}=ko(e),{backgroundColorClasses:u,backgroundColorStyles:p}=Vo(Co(e,"color")),{borderClasses:r}=Fo(e),{dimensionStyles:l}=So(e),{elevationClasses:v}=To(e),{locationStyles:h}=xo(e),{positionClasses:S}=Po(e),{roundedClasses:k}=Ao(e);return Ae(()=>i(e.tag,{class:["v-sheet",m.value,u.value,r.value,v.value,S.value,k.value,e.class],style:[p.value,l.value,h.value,e.style]},a)),{}}}),ls=_e({altLabels:Boolean,bgColor:String,completeIcon:String,editIcon:String,editable:Boolean,errorIcon:String,hideActions:Boolean,items:{type:Array,default:()=>[]},itemTitle:{type:String,default:"title"},itemValue:{type:String,default:"value"},nonLinear:Boolean,flat:Boolean,...Ro()},"Stepper"),rs=_e({...ls(),...Uo({mandatory:"force",selectedClass:"v-stepper-item--selected"}),...zt(),...$o(Et(),["prevText","nextText"])},"VStepper"),Lt=Pe()({name:"VStepper",props:rs(),emits:{"update:modelValue":e=>!0},setup(e,f){let{slots:a}=f;const{items:m,next:u,prev:p,selected:r}=No(e,it),{displayClasses:l,mobile:v}=Io(e),{completeIcon:h,editIcon:S,errorIcon:k,color:Q,editable:L,prevText:b,nextText:g}=Do(e),P=$(()=>e.items.map((V,ee)=>{const A=ht(V,e.itemTitle,V),H=ht(V,e.itemValue,ee+1);return{title:A,value:H,raw:V}})),R=$(()=>m.value.findIndex(V=>r.value.includes(V.id))),Z=$(()=>e.disabled?e.disabled:R.value===0?"prev":R.value===m.value.length-1?"next":!1);return Mo({VStepperItem:{editable:L,errorIcon:k,completeIcon:h,editIcon:S,prevText:b,nextText:g},VStepperActions:{color:Q,disabled:Z,prevText:b,nextText:g}}),Ae(()=>{const V=kt.filterProps(e),ee=!!(a.header||e.items.length),A=e.items.length>0,H=!e.hideActions&&!!(A||a.actions);return i(kt,lt(V,{color:e.bgColor,class:["v-stepper",{"v-stepper--alt-labels":e.altLabels,"v-stepper--flat":e.flat,"v-stepper--non-linear":e.nonLinear,"v-stepper--mobile":v.value},l.value,e.class],style:e.style}),{default:()=>{var D,ie;return[ee&&i(dt,{key:"stepper-header"},{default:()=>[P.value.map((le,ue)=>{let{raw:ve,...de}=le;return i(ye,null,[!!ue&&i(Ca,null,null),i(ut,de,{default:a[`header-item.${de.value}`]??a.header,icon:a.icon,title:a.title,subtitle:a.subtitle})])})]}),A&&i(as,{key:"stepper-window"},{default:()=>[P.value.map(le=>i(ns,{value:le.value},{default:()=>{var ue,ve;return((ue=a[`item.${le.value}`])==null?void 0:ue.call(a,le))??((ve=a.item)==null?void 0:ve.call(a,le))}}))]}),(D=a.default)==null?void 0:D.call(a,{prev:p,next:u}),H&&(((ie=a.actions)==null?void 0:ie.call(a,{next:u,prev:p}))??i(Wt,{key:"stepper-actions","onClick:prev":p,"onClick:next":u},a))]}})}),{prev:p,next:u}}}),is={class:"permissions_wrapper"},ds={class:"d-flex justify-center"},us={class:"d-flex align-center"},cs={class:"d-flex align-center justify-space-between"},ms={key:0,class:"d-flex align-center"},fs={class:"d-flex align-center me-6"},vs={class:"main-step"},ps={class:"info_container"},gs={class:"info_container__buttons"},hs={class:"info_container mt-6"},ys={class:"info_container__text"},bs={class:"management"},_s={class:"management__row"},ws={class:"management__row"},ks=Ce({__name:"Permissions",setup(e){var de,ge;const f=Ve(),a=Ee(),m=Ne(),u=wa(),p=ka(),{fundChainId:r,fundInitCache:l,fundSettings:v}=Be(m),{roles:h,selectedRole:S,isFetchingPermissions:k,fetchPermissions:Q}=va(r.value,(ge=(de=l==null?void 0:l.value)==null?void 0:de.fundSettings)==null?void 0:ge.fundAddress),L=x(""),b=x(["Edit Permissions","Finalize Permissions"]),g=x(0),P=x(!1),R=x(!1),Z=x(!1),V=ba(Yo.scopeFunction),ee=x([{stepName:$e.Setup,stepLabel:Xe[$e.Setup].name,formTitle:Xe[$e.Setup].formTitle,formText:Xe[$e.Setup].formText,stepDefaultValues:JSON.parse(JSON.stringify(V)),subStepKey:"contractMethod",multipleSteps:!0,subStepLabel:"Permission",steps:[V]}]),A=$(()=>{var c;return(c=l==null?void 0:l.value)==null?void 0:c.rolesModifier}),H=$(()=>{var c;return r.value?Xa(((c=st[r.value])==null?void 0:c.chainShort)||"",A.value||""):""}),D=c=>{ee.value=c},ie=c=>{var E,se,W;const n=[],N=yt("bytes32",bt((E=l==null?void 0:l.value)==null?void 0:E.fundContractAddr,64)),K=He(Ke.scopeParameter,[((se=S.value)==null?void 0:se.id)||"1",c,"0xa9059cbb","0","0","0",N]);n.push(K);const B=He(Ke.scopeTarget,[((W=S.value)==null?void 0:W.id)||"1",c]);return n.push(B),n},le=c=>{var W,z;const n=[],{rethinkContractAddresses:N}=xt(),K=N.PoolPerformanceFeeBeaconProxy[r.value];if(!K){const he="Missing PoolPerformanceFeeBeaconProxy address. Please contact Rethink support.";throw a.errorToast(he),console.error(he),new Error(he)}const B=yt("bytes32",bt(K,64)),E=He(Ke.scopeParameter,[((W=S.value)==null?void 0:W.id)||"1",c,"0xec68ac8d","0","1","0",B]);n.push(E);const se=He(Ke.scopeTarget,[((z=S.value)==null?void 0:z.id)||"1",c]);return n.push(se),n},ue=async()=>{L.value="";try{u.rawTransactions=await p.updateRole(r.value),g.value=1}catch(c){console.error("Failed updating role",c),L.value=c.message}},ve=async()=>{var B,E,se,W;const c=(B=l==null?void 0:l.value)==null?void 0:B.fundSettings;if(console.log("fundInitCacheSettings",c),console.log("delegatedPermissionsEntry",ee.value),!A.value||!((E=l==null?void 0:l.value)!=null&&E.fundContractAddr)||!(c!=null&&c.baseToken))return console.error("Missing fund init cache data",l),P.value=!1,a.errorToast("Something went wrong while storing permissions. Missing fund init cache data.");const n=(se=ee.value.find(z=>z.stepName===$e.Setup))==null?void 0:se.steps;if(!(n!=null&&n.length))return;P.value=!0,console.log("roleModAddress",A.value),console.log("transactions",Tt(n));const N=Zo(A.value,n);if(console.log("storePermissions data:",JSON.stringify(N.encodedRoleModEntries,null,2)),R.value){const z=ie(c==null?void 0:c.baseToken);N.encodedRoleModEntries.push(...z)}if(Z.value){const z=le(c==null?void 0:c.fundAddress);N.encodedRoleModEntries.push(...z)}const K=(W=f.chainContracts[r.value])==null?void 0:W.fundFactoryContract;try{console.log("SUBMIT PERMISSIONS DATA",N.encodedRoleModEntries),await K.send("submitPermissions",{},N.encodedRoleModEntries).on("transactionHash",z=>{console.log("tx hash: "+z),a.addToast("The save permissions transaction has been submitted. Please wait for confirmation.")}).on("receipt",z=>{console.log("receipt: ",z),z.status?a.successToast("Permissions stored successfully."):a.errorToast("Storing permissions has failed. Please contact the Rethink Finance support."),P.value=!1}).on("error",z=>{console.error(z),P.value=!1,a.errorToast("There has been an error. Please contact the Rethink Finance support.")})}catch(z){P.value=!1,a.errorToast(z.message)}};return fe(()=>[r,A.value],async()=>{var c;if(console.warn("FETCH PERMS"),await Q(A.value),console.log("fetched roles",h.value),!((c=h.value)!=null&&c.length)){const n="1",N={id:n,name:n,targets:[],members:[]};h.value=[N],S.value=N}},{immediate:!0}),(c,n)=>{var se;const N=ha,K=Dt,B=ya,E=_a;return _(),q("div",is,[w("div",ds,[i(Lt,{modelValue:o(g),"onUpdate:modelValue":n[0]||(n[0]=W=>O(g)?g.value=W:null)},{default:F(()=>[i(dt,null,{default:F(()=>[(_(!0),q(ye,null,Ue(o(b),(W,z)=>(_(),j(ut,{key:z,step:z+1,complete:z+1<o(g),value:z+1},{default:F(()=>[w("div",us,[w("span",null,ke(W),1)])]),_:2},1032,["step","complete","value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),w("div",cs,[o(g)===0?(_(),q("div",ms,[w("div",fs,[i(pa,{modelValue:o(S),"onUpdate:modelValue":n[1]||(n[1]=W=>O(S)?S.value=W:null),roles:o(h)},null,8,["modelValue","roles"])]),i(ga)])):J("",!0),o(g)===0?(_(),j(re,{key:1,class:"btn_icon_center",type:"button",variant:"outlined",onClick:n[2]||(n[2]=W=>ue())},{default:F(()=>[n[8]||(n[8]=G(" Finalize Permissions ")),i(nt,{right:""},{default:F(()=>n[7]||(n[7]=[G(" mdi-chevron-right ")])),_:1})]),_:1})):J("",!0)]),o(g)===0?(_(),j(N,{key:0,class:"mt-6","chain-id":o(r),"is-loading":o(k),"error-message":o(L)},null,8,["chain-id","is-loading","error-message"])):J("",!0),o(g)===1?(_(),j(E,{key:1,ref:"delegatedPermissionsRef",modelValue:o(ee),"onUpdate:modelValue":n[6]||(n[6]=W=>O(ee)?ee.value=W:null),"chain-id":o(r),"safe-address":((se=o(v))==null?void 0:se.safe)??"","fields-map":o(Qo),"submit-label":"Save Permissions",title:"Permissions","always-show-last-step":!0,onEntryUpdated:D,onSubmit:ve},{title:F(()=>[i(K,{onClick:n[3]||(n[3]=W=>g.value=0)})]),"post-steps-content":F(()=>{var W;return[w("div",vs,[w("div",ps,[w("div",gs,[i(B,{title:"View Vault Permissions",href:o(H)},null,8,["href"])]),n[9]||(n[9]=w("p",{class:"info_container__text"},[G(" Having trouble reading permissions?"),w("br"),w("a",{class:"info_container__link",href:"https://docs.rethink.finance/rethink.finance",target:"_blank"},"Learn more about permissions here"),G(". ")],-1))]),w("div",hs,[w("p",ys,[n[10]||(n[10]=w("strong",null,"Safe Contract:",-1)),G(" "+ke(((W=o(v))==null?void 0:W.safe)||"N/A"),1)])])])]}),"pre-content":F(()=>[w("div",bs,[w("div",_s,[n[11]||(n[11]=w("div",null," Prepopulate permissions to allow manager to send funds to the admin contract to settle flows ",-1)),i(Re,{modelValue:o(R),"onUpdate:modelValue":n[4]||(n[4]=W=>O(R)?R.value=W:null),color:"primary","hide-details":""},null,8,["modelValue"])]),w("div",ws,[n[12]||(n[12]=w("div",null," Prepopulate permissions to allow manager to collect fees based on default performance fee contract ",-1)),i(Re,{modelValue:o(Z),"onUpdate:modelValue":n[5]||(n[5]=W=>O(Z)?Z.value=W:null),color:"primary","hide-details":""},null,8,["modelValue"])])])]),_:1},8,["modelValue","chain-id","safe-address","fields-map"])):J("",!0)])}}}),Vs=be(ks,[["__scopeId","data-v-89ce1ec8"]]),Cs={class:"nav-methods"},Fs={class:"main_header__actions"},Ss={class:"main_card"},Ts={class:"management"},xs={class:"management__row"},Ps={class:"d-flex flex-column mt-2"},As={class:"d-flex flex-row align-items-center"},Ns={class:"d-flex flex-row align-items-center mt-1"},Is=Ce({__name:"NavMethods",setup(e){const f=Ne(),a=Ee(),m=Ve(),{fundChainId:u,fundInitCache:p,fundSettings:r,fundFactoryContractV2Used:l}=Be(f),v=x(!1),h=x(!1),S=x(!1),k=x(!1),Q=x(!1),L=x(!1),b=x(!1),g=x([]),P=x(!1),R=x(0),Z=$(()=>{const c=m.chainContracts[u.value];return l.value?c==null?void 0:c.fundFactoryContractV2:c==null?void 0:c.fundFactoryContract}),V=()=>{P.value&&(b.value=!0),ee()},ee=async()=>{var n;if(g.value.length===0)return a.warningToast("No methods to store.");h.value=!0;let c;try{c=ea(g.value,(n=r==null?void 0:r.value)==null?void 0:n.baseDecimals)}catch(N){return console.error("Failed encoding NAV methods (encodeUpdateNavMethods): ",N),h.value=!1,a.errorToast("Failed encoding NAV methods, "+N.message)}try{await A(c)}catch(N){return console.error("Failed storing NAV methods ",N),h.value=!1,a.errorToast("Failed storing NAV methods, "+N.message)}P.value&&await H()},A=async c=>{var K;if(!((K=r==null?void 0:r.value)!=null&&K.fundAddress))return a.errorToast("Fund address is missing.");const{getNAVExecutorBeaconProxyAddress:n}=xt(),N=n(u.value);try{console.log("STORE NAV DATA",JSON.stringify([N,c],null,2)),await Z.value.send("storeNAV",{},N,c).on("transactionHash",B=>{console.log("tx hash: "+B),a.addToast("Store NAV methods transaction has been submitted. Please wait for it to be confirmed.")}).on("receipt",B=>{console.log("receipt: ",B),B.status?a.successToast("NAV methods stored successfully."):a.errorToast("Storing NAV methods has failed. Please contact the Rethink Finance support."),h.value=!1}).on("error",B=>{console.error(B),h.value=!1,a.errorToast("There has been an error. Please contact the Rethink Finance support.")})}catch(B){h.value=!1,a.errorToast(B.message)}},H=async()=>{var n,N,K,B;if(!((n=r==null?void 0:r.value)!=null&&n.fundAddress))return a.errorToast("Fund address is missing.");if(!((N=p==null?void 0:p.value)!=null&&N.rolesModifier))return a.errorToast("Roles modifier address is missing.");S.value=!0;const c=ta((K=r==null?void 0:r.value)==null?void 0:K.fundAddress,u.value,(B=p==null?void 0:p.value)==null?void 0:B.rolesModifier);try{console.log("submitPermissions allowManagerToUpdateNavPermission",c),await Z.value.send("submitPermissions",{},c.calldatas).on("transactionHash",E=>{console.log("tx hash: "+E),a.addToast("Submit NAV permissions transaction has been submitted. Please wait for it to be confirmed.")}).on("receipt",E=>{console.log("receipt: ",E),E.status?a.successToast("NAV permissions submitted successfully."):a.errorToast("Submitting NAV permissions has failed. Please contact the Rethink Finance support."),S.value=!1}).on("error",E=>{console.error(E),S.value=!1,a.errorToast("There has been an error. Please contact the Rethink Finance support.")})}catch(E){S.value=!1,a.errorToast(E.message)}},D=c=>{g.value.push(c),ie(!1),console.log("new",g.value),a.addToast("Method added successfully.")},ie=c=>{k.value=c},le=c=>{Q.value=c},ue=c=>{g.value=[...g.value,...c]},ve=c=>{for(const n of c)n.isNew=!0,g.value.push(n);le(!1),a.addToast("Methods added successfully.")};Pt(()=>{ge(),de()}),fe(()=>{var c;return(c=r==null?void 0:r.value)==null?void 0:c.fundAddress},c=>{c&&ge()}),fe(()=>{var c;return(c=r==null?void 0:r.value)==null?void 0:c.safe},c=>{c&&de()});const de=async()=>{var N,K;if(!((N=r==null?void 0:r.value)!=null&&N.safe))return;let c=BigInt(0);const n=m.getCustomContract(u.value,Mt,(K=r.value)==null?void 0:K.baseToken);try{c=await m.callWithRetry(u.value,()=>{var B;return n.methods.balanceOf((B=r.value)==null?void 0:B.safe).call()})}catch(B){a.errorToast("Failed loading safe balance. "+B.message)}finally{console.log("SAFE BALANCE",c),R.value=Number(c)}},ge=async()=>{var c,n;if((c=r==null?void 0:r.value)!=null&&c.fundAddress){v.value=!0;try{const N=await Xo(u.value,(n=r==null?void 0:r.value)==null?void 0:n.fundAddress);for(const K of N)g.value.some(B=>B.detailsHash===K.detailsHash)||g.value.push(K)}catch(N){a.errorToast("Failed loading NAV methods data. "+N.message)}v.value=!1}};return(c,n)=>{var he,Ie,De,Fe;const N=xa,K=Pa,B=Aa,E=Na,se=rt,W=Ia,z=At("Icon");return _(),q("div",Cs,[i(N,null,{default:F(()=>[n[12]||(n[12]=w("div",{class:"main_header__title"}," Manage NAV Methods ",-1)),w("div",Fs,[i(re,{class:"text-secondary",variant:"outlined",onClick:n[0]||(n[0]=oe=>ie(!0))},{default:F(()=>n[8]||(n[8]=[G(" Define New Method ")])),_:1}),i(re,{class:"text-secondary",variant:"outlined",onClick:n[1]||(n[1]=oe=>le(!0))},{default:F(()=>n[9]||(n[9]=[G(" Add From Library ")])),_:1}),i(re,{class:"text-secondary",variant:"outlined",onClick:n[2]||(n[2]=oe=>L.value=!0)},{default:F(()=>n[10]||(n[10]=[G(" Import Raw ")])),_:1}),i(re,{class:"bg-primary text-secondary",loading:o(h),onClick:V},{default:F(()=>n[11]||(n[11]=[G(" Store NAV Methods ")])),_:1},8,["loading"])])]),_:1}),w("div",Ss,[w("div",Ts,[w("div",xs,[n[13]||(n[13]=w("div",null," Allow manager to keep updating NAV based on approved methods ",-1)),i(Re,{modelValue:o(P),"onUpdate:modelValue":n[3]||(n[3]=oe=>O(P)?P.value=oe:null),color:"primary","hide-details":""},null,8,["modelValue"])])]),i(K,{methods:o(g),"onUpdate:methods":n[4]||(n[4]=oe=>O(g)?g.value=oe:null),deletable:"","show-simulated-nav":"",idx:"nav/onboarding","fund-chain-id":o(u),loading:o(v),"fund-address":(he=o(r))==null?void 0:he.fundAddress,"safe-address":(Ie=o(r))==null?void 0:Ie.safe,"base-symbol":(De=o(r))==null?void 0:De.baseSymbol,"base-decimals":(Fe=o(r))==null?void 0:Fe.baseDecimals,"safe-contract-base-token-balance":o(R),"show-safe-contract-balance":!0,"show-summary-row":!0,"is-fund-non-init":!0,"fund-factory-contract-v2-used":o(l)},null,8,["methods","fund-chain-id","loading","fund-address","safe-address","base-symbol","base-decimals","safe-contract-base-token-balance","fund-factory-contract-v2-used"])]),i(B,{modelValue:o(L),"onUpdate:modelValue":n[5]||(n[5]=oe=>O(L)?L.value=oe:null),methods:o(g),onAddedMethods:ue},null,8,["modelValue","methods"]),i(se,{"model-value":o(k),title:"Add New Method","max-width":"80%","onUpdate:modelValue":ie},{default:F(()=>{var oe,we;return[i(E,{"fund-address":(oe=o(r))==null?void 0:oe.fundAddress,"base-token-address":(we=o(r))==null?void 0:we.baseToken,onNewNavMethodCreated:D},null,8,["fund-address","base-token-address"])]}),_:1},8,["model-value"]),i(se,{"model-value":o(Q),title:"Add New Method","max-width":"80%","onUpdate:modelValue":le},{default:F(()=>{var oe,we,te,We;return[i(W,{"chain-id":o(u),"fund-address":((oe=o(r))==null?void 0:oe.fundAddress)||"","safe-address":((we=o(r))==null?void 0:we.safe)||"","base-symbol":((te=o(r))==null?void 0:te.baseSymbol)||"","base-decimals":((We=o(r))==null?void 0:We.baseDecimals)||18,"already-used-methods":o(g),"is-fund-non-init":!0,onMethodsAdded:ve},null,8,["chain-id","fund-address","safe-address","base-symbol","base-decimals","already-used-methods"])]}),_:1},8,["model-value"]),i(se,{modelValue:o(b),"onUpdate:modelValue":n[6]||(n[6]=oe=>O(b)?b.value=oe:null),title:"Store NAV Methods",class:"confirm_dialog","max-width":"680px",onCancel:n[7]||(n[7]=oe=>b.value=!1)},{default:F(()=>[n[16]||(n[16]=w("p",{class:"mt-4"}," This action requires sending two transactions: ",-1)),w("div",Ps,[w("div",As,[i(z,{icon:"mynaui:one-circle",width:"24",height:"24"}),n[14]||(n[14]=w("strong",{class:"ms-1"}," Store the NAV methods. ",-1))]),w("div",Ns,[i(z,{icon:"mynaui:two-circle",width:"24",height:"24"}),n[15]||(n[15]=w("strong",{class:"ms-1"}," Allow the manager to keep updating NAV based on approved methods. ",-1))])]),n[17]||(n[17]=w("p",{class:"mt-4"}," Please ensure you approve both to complete the process. ",-1))]),_:1},8,["modelValue"])])}}}),Ds=be(Is,[["__scopeId","data-v-f7710008"]]),Ms={class:"onboarding_finalize"},$s={class:"d-flex align-items-center align-center flex-column"},Us={key:1,class:"d-flex align-items-center align-center flex-column"},Rs=Ce({__name:"Finalize",setup(e){const f=oa(),a=Ee(),m=Ne(),{fundChainId:u,fundSettings:p,askToSaveDraftBeforeRouteLeave:r,fundFactoryContract:l}=Be(m),{navigateToFundDetails:v}=Da(),h=x(!1),S=x(!1),k=x(!1),Q=async()=>{if(console.warn("finalizeCreateFund"),!u.value)return a.errorToast("Fund chain ID not set.");if(!l.value)return a.errorToast(`Cannot create fund on chain ${u.value}.`);S.value=!0;try{await l.value.send("finalizeCreateFund",{},[]).on("transactionHash",b=>{console.log("tx hash: "+b),a.addToast("The transaction has been submitted. Please wait for it to be confirmed.")}).on("receipt",b=>{console.log("receipt: ",b),b.status?(a.successToast("Fund was created successfully."),k.value=!0,m.clearFundLocalStorage()):a.errorToast("The Create Fund tx has failed. Please contact the Rethink Finance community for support.")}).on("error",b=>{console.error("error when initializing",b),S.value=!1,a.errorToast("There has been an error. Please contact the Rethink Finance community for support.")})}catch(b){console.error(b),a.errorToast("There was an error initializing the vault")}finally{S.value=!1}};fe(()=>k.value,b=>{b&&L()});const L=async()=>{var g,P,R;if(!k.value)return;h.value=!0;const b=await f.fetchFundSettings(u.value,((g=p==null?void 0:p.value)==null?void 0:g.fundAddress)||"");console.log("fundSettingsData",b),$t(b==null?void 0:b.fundAddress)?(await new Promise(Z=>setTimeout(Z,1e3)),await L()):(h.value=!1,r.value=!1,v(u.value,((P=p==null?void 0:p.value)==null?void 0:P.fundSymbol)||"",((R=p==null?void 0:p.value)==null?void 0:R.fundAddress)||""))};return(b,g)=>{var R;const P=At("Icon");return _(),q("div",Ms,[o(k)?(_(),q(ye,{key:0},[w("div",null,[w("strong",null,ke((R=o(p))==null?void 0:R.fundName),1),g[0]||(g[0]=G(" was created successfully. "))]),i(P,{icon:"noto:party-popper",width:"60",height:"60",class:"my-2"}),g[1]||(g[1]=G(" You will be redirected to the vault details page after the node gets synced. ")),w("div",$s,[i(Ye,{class:"mt-2",size:"30",width:"3",indeterminate:""})])],64)):o(S)?(_(),q("div",Us,[g[2]||(g[2]=w("div",{class:"pb-4"}," Finalizing fund creation. ",-1)),i(Ye,{class:"mt-2",size:"30",width:"3",indeterminate:""})])):(_(),q(ye,{key:2},[g[4]||(g[4]=w("p",null," After finalizing the setup users will be able to deposit into your vault. ",-1)),g[5]||(g[5]=w("p",null," Please note that any future change after finalization will go through governance. ",-1)),i(re,{color:"primary",onClick:Q},{default:F(()=>g[3]||(g[3]=[G(" Finalize ")])),_:1})],64))])}}}),Bs=be(Rs,[["__scopeId","data-v-55eb6bd6"]]),Es="https://docs.rethink.finance/rethink.finance/protocol/architecture/admin-contract/fees";var C=(e=>(e.Chain="chain",e.Basics="basics",e.Fee="fee",e.Whitelist="whitelist",e.Management="management",e.Governance="governance",e.Permissions="permissions",e.NavMethods="navMethods",e.Finalize="finalize",e))(C||{});const tt=[{key:"chain",name:"Chain"},{key:"basics",name:"Basics"},{key:"fee",info:`<span>Please find more about details about fees and alternative fee types in our <a target='_blank' href='${Es}'>documentation.</a></span>`,name:"Fee"},{key:"whitelist",name:"Whitelist"},{key:"governance",name:"Governance"},{key:"permissions",name:"Permissions"},{key:"navMethods",name:"NAV Methods"},{key:"finalize",name:"Finalize"}],Vt={basics:[...je[Je.Basics].flatMap(e=>{const f=e.isEditable;return e.key==="strategistName"?(console.log("STRATEGIC NAME FIELD",e.key),[...je[Je.Management].map(a=>{if(!["minLiquidAssetShare"].includes(a.key))return a.key==="plannedSettlementPeriod"?{...a,isEditable:!0,tag:"upgradable",info:"Please note that <strong>Planned Settlement Period</strong> is not enforced on-chain. Your job as a manager is to make sure vault is managed accordingly to these parameters. Your management role may otherwise be removed through governance."}:{...a,isEditable:!0}}).filter(a=>a),{...e,isEditable:!0,info:"",tag:f?"upgradable":"fixed"}]):{...e,isEditable:!0,info:"",tag:f?"upgradable":"fixed"}})],fee:je[Je.Fee].map(e=>{const f=["performanceFeePeriod"];return{...e,isToggleOn:!1,fields:e.fields.filter(a=>!f.includes(a.key)).map(a=>{const m=a.isEditable;return{...a,isEditable:!0,tag:m?"upgradable":"fixed"}})}}),governance:je[Je.Governance].map(e=>{const f=e.isEditable;return e.key==="governanceToken"?{...e,label:"Custom Governance Token",tag:f?"upgradable":"fixed",isEditable:!0,isCustomValueToggleOn:!1,defaultValue:"0x0000000000000000000000000000000000000000",defaultValueInfo:"By default Vault Token is used as the Governance Token for the vault."}:{...e,tag:f?"upgradable":"fixed",isEditable:!0}})},Ws={class:"d-flex",style:{width:"100%","flex-direction":"column",height:"100%"}},zs={class:"d-flex align-center"},Ls={class:"buttons"},Os={class:"item d-flex align-center"},Gs={key:1,class:"d-inline-flex align-center me-4"},Hs={key:2,class:"d-inline-flex align-center me-6"},qs={class:"main_card di_card d-flex"},Ks={key:0,class:"d-flex justify-center mb-6"},js={key:1,class:"connect_wallet"},Js={key:0,class:"mb-2"},Ys=Ce({__name:"index",setup(e){const f=Ee(),a=aa(),m=Ve(),u=St(),p=Ne(),{fundChainId:r,askToSaveDraftBeforeRouteLeave:l,onboardingWhitelistLocalStorageKey:v,onboardingStepperEntryLocalStorageKey:h,fundFactoryContractV2Used:S}=Be(p),k=x(1),Q=x(!1),L=x(!1),b=x(!1),g=x(!1),P=x(!1),R=x(qe("isCreateFundPasswordCorrect",!1));let Z=null;const V=x([]),ee=x(!1),A=x(!1),H=x(_t[0].value),D=x(void 0),ie=$(()=>{var s;return((s=D==null?void 0:D.value)==null?void 0:s.fundSettings)||{}}),le=$(()=>{var s;return((s=D==null?void 0:D.value)==null?void 0:s.fundMetadata)||{}}),ue=$(()=>{var s;return((s=D==null?void 0:D.value)==null?void 0:s.governorData)||{}}),ve=s=>{[xe.Text,xe.ReadonlyJSON,xe.Number,xe.Date].includes(s.type)&&(s.type=xe.Text),s.isToggleable=!1;const t=s.key;let d;return t in ie.value?(d=ie.value[t],ma.includes(t)&&(d=Number(ra(d))),s.value=d):t in le.value?(d=le.value[t],s.value=d):t in ue.value?(d=ue.value[t],s.value=d):D!=null&&D.value&&console.error(" field key missing",s),d},de=async()=>{var s,t,d,M;if(H.value)if(u.activeAccountAddress){D.value=await p.fetchFundInitCache(H.value,u.activeAccountAddress);for(const I of Y.value)for(const y of I.fields||[])if("fields"in y){let X;for(const ne of y.fields||[]){const U=ve(ne);!X&&U!=null&&U!==wt&&U!==0&&(X=!0)}y!=null&&y.isToggleable&&X&&(y.isToggleOn=!0)}else ve(y);V.value=(((t=(s=D==null?void 0:D.value)==null?void 0:s.fundSettings)==null?void 0:t.allowedDepositAddrs)||[]).map(I=>({address:I,deleted:!1,isNew:!1})),A.value=((M=(d=D==null?void 0:D.value)==null?void 0:d.fundSettings)==null?void 0:M.isWhitelistedDeposits)||!1,D!=null&&D.value&&(l.value=!1,p.clearFundLocalStorage())}else p.clearFundInitCache()},ge=$(()=>{var t;const s=(t=st[H.value])==null?void 0:t.chainName;return s?`Are you sure you want to clear the cache for <strong>${s}</strong>?`:"Are you sure you want to clear the cache for this chain?"}),c=$(()=>a.isActionState("fetchFundInitCacheAction",sa.Loading)),n=(s,t)=>{var d,M;try{const I=Y.value.findIndex(y=>y.key===t);if(I!==-1){const y=((d=Y.value[I].fields)==null?void 0:d.findIndex(X=>X.key===s.key))??-1;y!==-1&&((M=Y.value[I].fields)==null||M.splice(y,1))}}catch(I){console.error("Error deleting custom field",I),f.errorToast("Error deleting custom field")}},N=(s,t)=>{var d,M;try{const I=Y.value.findIndex(y=>y.key===t);if(I!==-1){if(((d=Y.value[I].fields)==null?void 0:d.findIndex(X=>X.key===s.key))!==-1)return f.errorToast("Custom field with this name already exists");(M=Y.value[I].fields)==null||M.push(s)}}catch(I){console.error("Error adding custom field",I),f.errorToast("Error adding custom field")}},K=()=>{k.value+=1,k.value===2&&(Y.value=Me(),de())},B=()=>{try{p.clearFundLocalStorage(),Y.value=Me(),g.value=!1,f.successToast("Cache cleared successfully")}catch(s){console.error("Error clearing cache",s),f.errorToast("Error clearing cache")}},E=$(()=>{var s;return!!((s=D==null?void 0:D.value)!=null&&s.fundContractAddr)}),se=$(()=>E.value&&k.value>1&&k.value<6),W=$(()=>{const s=Y.value[k.value-1];return u.isConnected?[C.Chain,C.Basics,C.Fee,C.Whitelist,C.Permissions,C.NavMethods].includes(s.key)?!0:s.key===C.Governance&&E.value:!1}),z=$(()=>E.value?!1:Y.value[k.value-1].key===C.Governance),he=$(()=>Y.value[k.value-1].key===C.Chain&&u.isConnected),Ie=$(()=>Y.value.map(s=>{var t;return(t=s.fields)==null?void 0:t.filter(d=>d.isToggleOn===!1).map(d=>d.fields?d.fields.filter(M=>!M.isToggleOn).map(M=>M.key):d.key)}).flat(2).flat()),De=$(()=>{const s=[];if(E.value)return{isValid:!0,errors:s};const t=[C.Chain,C.Basics,C.Fee,C.Governance],d=Y.value[k.value-1],M=(y,X,ne)=>{const U=Array.isArray(ne)?ne:[ne];for(const pe of U)for(const ce of X){const Se=ce(pe);if(Se!==!0){s.push(`${y} ${Se}`);return}}},I=y=>{y!=null&&y.rules&&M(y.label,y.rules,y.value)};return t.includes(d.key)&&d.fields?d.fields.forEach(y=>{if(y.isCustomValueToggleOn!==!1)if(y.fields){if(!y.isToggleOn)return;y.fields.forEach(I)}else I(y)}):d.key===C.Whitelist?A.value&&V.value.length===0&&s.push("At least one address must be whitelisted."):d.key===C.Permissions||(d.key,C.NavMethods),{isValid:s.length===0,errors:s}}),Fe=$(()=>{var s;return(s=De.value)==null?void 0:s.isValid}),oe=$(()=>A.value?V.value.filter(s=>!s.deleted).map(s=>s.address):[]),we=s=>{var I;const t=s.key,d=qe(h.value)||{};if(!Vt[t])return[];console.log("generateFields:",d);const M=(I=Vt[t])==null?void 0:I.map((y,X)=>{var Ge,Te,T;const ne=ia(d,t),U=(Te=(Ge=d==null?void 0:d[ne])==null?void 0:Ge.fields)==null?void 0:Te[X],pe=(U==null?void 0:U.isToggleOn)??(y==null?void 0:y.isToggleOn);if(y!=null&&y.isToggleable){const me=(T=y==null?void 0:y.fields)==null?void 0:T.map((ae,Qt)=>{var ft,vt;const Zt=(vt=(ft=U==null?void 0:U.fields)==null?void 0:ft[Qt])==null?void 0:vt.value;return{...ae,value:Zt??(ae==null?void 0:ae.value)}});return{...y,isToggleOn:pe,fields:me}}const ce=y,Se=U==null?void 0:U.value,Qe=U==null?void 0:U.isCustomValueToggleOn;return{...ce,isCustomValueToggleOn:Qe??(ce==null?void 0:ce.isCustomValueToggleOn),value:Se??(ce==null?void 0:ce.value)}});if(console.log("lsStepperEntry",d),console.log("initCreateFund output",M),t===C.Basics){if(Object.keys(d).length===0)return M;const y=d.findIndex(X=>X.key===C.Basics);if(y!==-1){const X=d[y].fields??[],ne=(X==null?void 0:X.filter(pe=>pe.isFieldByUser))??[],U=(ne==null?void 0:ne.map(pe=>({...pe,rules:[Rt.required]})))??[];return M.concat(U)}}return M},te=(s,t)=>{var I,y,X,ne;const d=(ne=(X=(y=(I=Y.value)==null?void 0:I.find(U=>U.key===s))==null?void 0:y.fields)==null?void 0:X.flatMap(U=>[U,...(U==null?void 0:U.fields)||[]]))==null?void 0:ne.find(U=>(U==null?void 0:U.key)===t);if(!d){console.error(`Field ${t} not found in step ${s}`,d);return}const M=d==null?void 0:d.value;return(d==null?void 0:d.isCustomValueToggleOn)===!1?d==null?void 0:d.defaultValue:M??(d==null?void 0:d.defaultValue)},We=s=>{if(Object.keys(Y).length===0)return[];const t=Y.value.findIndex(d=>d.key===s);if(t!==-1){const d=Y.value[t].fields??[];return(d==null?void 0:d.filter(M=>M.isFieldByUser))??[]}return[]},Ot=()=>{const s=We(C.Basics);return{description:te(C.Basics,"description"),photoUrl:te(C.Basics,"photoUrl"),plannedSettlementPeriod:te(C.Basics,"plannedSettlementPeriod"),strategistName:te(C.Basics,"strategistName"),strategistUrl:te(C.Basics,"strategistUrl"),oivChatUrl:te(C.Basics,"oivChatUrl"),...Object.fromEntries(s.map(t=>[t.key,t.value]))}},ze=s=>Ie.value.includes(s)?0:Number(da(te(C.Fee,s))),Le=s=>Ie.value.includes(s)?wt:te(C.Fee,s),Gt=()=>[Le("depositFeeRecipientAddress"),Le("withdrawFeeRecipientAddress"),Le("managementFeeRecipientAddress"),Le("performanceFeeRecipientAddress")],Ht=()=>{const s=[[ze("depositFee"),ze("withdrawFee"),ze("performanceFee"),ze("managementFee"),0,te(C.Basics,"baseToken"),"0x0000000000000000000000000000000000000000",!1,!1,oe.value,[],te(C.Governance,"governanceToken"),"0x0000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000",te(C.Basics,"fundName"),te(C.Basics,"fundSymbol"),Gt()],[parseInt(te(C.Governance,"quorum")),parseInt(te(C.Governance,"lateQuorum")),parseInt(te(C.Governance,"votingDelay")),parseInt(te(C.Governance,"votingPeriod")),parseInt(te(C.Governance,"proposalThreshold"))],JSON.stringify(Ot()),0,0];return console.log("output",s),s},qt=$(()=>{var s;return!!((s=m.chainContracts[H.value])!=null&&s.fundFactoryContractV2)}),Kt=async()=>{var t;const s=H.value;console.log("FUND CHAIN ID",s);try{b.value=!0;const d=P.value?"fundFactoryContractV2":"fundFactoryContract",M=(t=m.chainContracts[s])==null?void 0:t[d];if(console.log(`Using ${P.value?"V2":"V1"} contract for fund initialization`),!M)return f.errorToast(`Cannot create fund on chain ${s}. ${P.value?"V2 contract":"Contract"} not available.`);const I=Ht();console.warn("SUBMIT formatted data",I),await M.send("initCreateFund",{},...I).on("transactionHash",y=>{console.log("tx hash: "+y),f.addToast("The transaction has been submitted. Please wait for it to be confirmed.")}).on("receipt",y=>{console.log("receipt: ",y),y.status?(f.successToast("Fund initialization was successful. Wait for node to sync and go to next step."),jt(20,1e3)):f.errorToast("Fund initialization transaction has failed. Please contact the Rethink Finance community for support.")}).on("error",y=>{console.error("error when initializing",y),b.value=!1,f.errorToast("There has been an error. Please contact the Rethink Finance community for support.")})}catch(d){console.error(d),f.errorToast("There was an error initializing the vault")}finally{L.value=!1,b.value=!1}},jt=async(s,t)=>{var d;ee.value=!0;for(let M=1;M<=s;M++){if(await de(),(d=D==null?void 0:D.value)!=null&&d.fundContractAddr){console.log("Cache is now available!"),ee.value=!1,K();return}console.log(`Fund Init Cache fetch attempt ${M} failed. Retrying in ${t/1e3} seconds...`),await new Promise(I=>setTimeout(I,t))}ee.value=!1,console.log("Cache is still not available after maximum retries.")},Me=()=>{const s=qe(v.value);return console.log("LS whitelist",s),s&&(A.value=s.isWhitelistedDeposits??!1,V.value=s.whitelistedAddresses??[]),tt==null?void 0:tt.map(t=>({name:(t==null?void 0:t.name)??"",key:(t==null?void 0:t.key)??"",info:(t==null?void 0:t.info)??"",fields:we(t)}))},Jt=()=>{Ze(h.value,Y.value),Ze(v.value,{whitelistedAddresses:V.value,isWhitelistedDeposits:A.value}),f.successToast("Draft saved successfully"),ct()},ct=()=>{Q.value=!1,Z&&Z()},Yt=()=>Oe.value.map(s=>{const t=qe(`onboardingStepperEntry_${s}`)||[];return{chainId:s,hasDrafts:t.length>0}}),mt=()=>{var t;const s=Yt();if(k.value===1){const d=s.find(I=>I.hasDrafts&&I.chainId===u.connectedWalletChainId),M=s.find(I=>I.hasDrafts);d?H.value=d.chainId:M?H.value=M.chainId:u.connectedWalletChainId&&((t=Oe==null?void 0:Oe.value)!=null&&t.includes(u.connectedWalletChainId))&&(H.value=u.connectedWalletChainId)}p.setSelectedStepperChainId(H.value)},Y=x(Me());fe(()=>R.value,s=>{s&&Ze("isCreateFundPasswordCorrect",!0)}),fe(Y.value,s=>{console.log("stepperEntry changes",s)}),fe(()=>H.value,()=>{l.value=!0,p.setSelectedStepperChainId(H.value),p.clearFundInitCache(),Y.value=Me()}),fe(()=>u.activeAccountAddress,()=>{console.log("Watcher: connected wallet changed fetchFundInitCache"),k.value>1&&(Y.value=Me(),de())}),fe(()=>u.connectedWalletChainId,(s,t)=>{t||mt()}),Bo((s,t,d)=>{if(!R.value){d();return}l.value?(Q.value=!0,Z=d):(l.value=!0,d&&d())});const Oe=$(()=>_t.map(s=>s.value));return Pt(()=>{mt()}),(s,t)=>{const d=Ba,M=zo,I=Lo,y=Dt,X=Oo,ne=Ha,U=ja,pe=Za,ce=Vs,Se=Ds,Qe=Bs,Ge=Ct,Te=rt;return _(),q("div",Ws,[o(R)?(_(),j(Lt,{key:1,ref:"stepper",modelValue:o(k),"onUpdate:modelValue":t[17]||(t[17]=T=>O(k)?k.value=T:null),class:"stepper_onboarding"},{default:F(()=>[i(Eo,{"model-value":o(c),class:"d-flex justify-center align-center",opacity:"0.12",contained:"",persistent:""},{default:F(()=>[i(Ye,{class:"stepper_onboarding__loading_spinner",size:"70",width:"3",indeterminate:""})]),_:1},8,["model-value"]),i(dt,null,{default:F(()=>[(_(!0),q(ye,null,Ue(o(Y),(T,me)=>(_(),j(ut,{key:me,step:me+1,complete:me+1<o(k),value:me+1},{default:F(()=>[w("div",zs,[w("span",null,ke(T.name),1),T.key===o(C).Chain?(_(),j(M,{key:0,"chain-id":o(H),class:"ms-2"},null,8,["chain-id"])):J("",!0)])]),_:2},1032,["step","complete","value"]))),128))]),_:1}),i(Wt,null,{next:F(()=>[w("div",Ls,[w("div",Os,[o(he)?(_(),j(re,{key:0,class:"me-8",variant:"outlined",onClick:t[1]||(t[1]=T=>g.value=!0)},{default:F(()=>t[18]||(t[18]=[G(" Clear Draft ")])),_:1})):J("",!0),o(z)&&o(qt)?(_(),q("div",Gs,[i(Re,{modelValue:o(P),"onUpdate:modelValue":t[2]||(t[2]=T=>O(P)?P.value=T:null),color:"primary","hide-details":"",class:"me-2",disabled:o(E)},null,8,["modelValue","disabled"]),t[19]||(t[19]=w("span",{class:"text-caption"},"Use Roles V2",-1))])):J("",!0),o(S)?(_(),q("div",Hs,[i(I,{value:"Roles V2 Used"})])):J("",!0),o(z)?(_(),j(re,{key:3,loading:o(b),class:"bg-primary text-white",disabled:o(E)||!o(Fe)||!o(u).isConnected,onClick:t[3]||(t[3]=T=>L.value=!0)},{default:F(()=>[t[21]||(t[21]=G(" Initialize vault ")),o(u).isConnected?J("",!0):(_(),j(et,{key:0,"model-value":!0,activator:"parent",location:"top","onUpdate:modelValue":T=>!0},{default:F(()=>t[20]||(t[20]=[G(" Connect your wallet to initialize the vault ")])),_:1}))]),_:1},8,["loading","disabled"])):J("",!0),i(et,{activator:"parent",location:"bottom",disabled:o(Fe)},{activator:F(()=>[o(W)?(_(),j(re,{key:0,disabled:!o(Fe),onClick:K},{default:F(()=>t[22]||(t[22]=[G(" Next ")])),_:1},8,["disabled"])):J("",!0)]),default:F(()=>{var T;return[t[23]||(t[23]=G(" Please fill out all required fields. ")),(_(!0),q(ye,null,Ue(((T=o(De))==null?void 0:T.errors)||[],(me,ae)=>(_(),q("div",{key:ae},ke(me),1))),128))]}),_:1},8,["disabled"])])])]),prev:F(()=>[o(k)!==1?(_(),j(y,{key:0,onClick:t[4]||(t[4]=T=>k.value--)})):J("",!0)]),_:1}),i(Ma,{"model-value":o(ee),scrim:"black",opacity:"0.3","max-width":"600px",persistent:"","onUpdate:modelValue":t[5]||(t[5]=T=>ee.value=!1)},{default:F(()=>[w("div",qs,[i(Ye,{class:"d-flex me-3",size:"20",width:"3",indeterminate:""}),t[24]||(t[24]=G(" Loading vault init cache... "))])]),_:1},8,["model-value"]),i(ot,{modelValue:o(k),"onUpdate:modelValue":t[11]||(t[11]=T=>O(k)?k.value=T:null)},{default:F(()=>[i(et,{activator:"parent",location:"top",disabled:!o(se)},{activator:F(()=>[(_(!0),q(ye,null,Ue(o(Y),(T,me)=>(_(),j(at,{key:me,value:me+1},{default:F(()=>[T.key===o(C).Chain&&o(u).isConnected?(_(),q("div",Ks,[i(X,{modelValue:o(H),"onUpdate:modelValue":t[6]||(t[6]=ae=>O(H)?H.value=ae:null),label:"Select vault Chain","label-center":""},null,8,["modelValue"])])):T.key===o(C).Chain&&!o(u).isConnected?(_(),q("div",js,[t[26]||(t[26]=G(" In order to create a vault, you need to connect your wallet. ")),i(re,{class:"bg-primary text-secondary",onClick:t[7]||(t[7]=ae=>o(u).connectWallet())},{default:F(()=>t[25]||(t[25]=[G(" Connect Wallet ")])),_:1})])):J("",!0),T.fields?(_(),j(ne,{key:2,fields:T.fields,"is-fund-initialized":o(E),step:o(k),"chain-id":o(H),onDeleteRow:ae=>n(ae,T.key)},null,8,["fields","is-fund-initialized","step","chain-id","onDeleteRow"])):J("",!0),T.key===o(C).Basics&&!o(E)?(_(),j(U,{key:3,onAddCustomField:t[8]||(t[8]=ae=>N(ae,o(C).Basics))})):J("",!0),T.key===o(C).Whitelist?(_(),j(pe,{key:4,modelValue:o(V),"onUpdate:modelValue":t[9]||(t[9]=ae=>O(V)?V.value=ae:null),"whitelist-enabled":o(A),"onUpdate:whitelistEnabled":t[10]||(t[10]=ae=>O(A)?A.value=ae:null),"is-editable":!o(E)},null,8,["modelValue","whitelist-enabled","is-editable"])):J("",!0),T.key===o(C).Permissions?(_(),j(ce,{key:5})):J("",!0),T.key===o(C).NavMethods?(_(),j(Se,{key:6,"chain-id":o(r),"fund-settings":o(ie)},null,8,["chain-id","fund-settings"])):J("",!0),T.key===o(C).Finalize?(_(),j(Qe,{key:7,"fund-chain-id":o(r)},null,8,["fund-chain-id"])):J("",!0),i(Ut,null,{default:F(()=>[T.info?(_(),j(Ge,{key:0,class:"info-box",info:T.info},null,8,["info"])):J("",!0)]),_:2},1024)]),_:2},1032,["value"]))),128))]),default:F(()=>t[27]||(t[27]=[G(" Vault has been initialized already and cannot be edited."),w("br",null,null,-1),G(" You can add permissions & NAV Methods and finalize vault creation. ")])),_:1},8,["disabled"])]),_:1},8,["modelValue"]),i(Te,{modelValue:o(Q),"onUpdate:modelValue":t[12]||(t[12]=T=>O(Q)?Q.value=T:null),title:"Heads Up!","confirm-text":"Save","cancel-text":"Don't save",message:"Do you want to save the changes?",class:"confirm_dialog","max-width":"600px",onConfirm:Jt,onCancel:ct},null,8,["modelValue"]),i(Te,{modelValue:o(L),"onUpdate:modelValue":t[13]||(t[13]=T=>O(L)?L.value=T:null),title:"Heads Up!","confirm-text":"Initialize",message:"You will not be able to change the vault settings after you initialize it. Changes will require governance proposal.",class:"confirm_dialog","max-width":"600px",loading:o(b),onConfirm:Kt,onCancel:t[14]||(t[14]=T=>L.value=!1)},null,8,["modelValue","loading"]),i(Te,{modelValue:o(g),"onUpdate:modelValue":t[15]||(t[15]=T=>O(g)?g.value=T:null),title:"Heads Up!","confirm-text":"Clear","cancel-text":"Don't clear",class:"confirm_dialog","max-width":"600px",onConfirm:B,onCancel:t[16]||(t[16]=T=>g.value=!1)},{default:F(()=>[o(ge)?(_(),q("div",Js,ke(o(ge)),1)):J("",!0),t[28]||(t[28]=w("p",{class:"mt-4"}," This action will clear the create vault form data for the selected chain. You will lose all the saved data you have entered so far. ",-1))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])):(_(),j(d,{key:0,"is-password-correct":o(R),"onUpdate:isPasswordCorrect":t[0]||(t[0]=T=>O(R)?R.value=T:null)},null,8,["is-password-correct"]))])}}}),ll=be(Ys,[["__scopeId","data-v-751d1c1e"]]);export{ll as default};
