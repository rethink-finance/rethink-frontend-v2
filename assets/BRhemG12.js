import{fN as y,fO as N,fP as oe,fQ as It,fR as G,fS as O,fs as $n,fT as ae,fU as xr,fV as K,fW as Fn,fX as kn,fY as R,fZ as V,f_ as jn,f$ as we,g0 as In,g1 as Me,g2 as er,ft as Nn,dx as Cn,g3 as Rn,g4 as Sn}from"./_BmmGIGi.js";import{g5 as Qa,g7 as Xa,g6 as Ka,g8 as ei}from"./_BmmGIGi.js";function Mn(e,t){const r=e.exec(t);return r==null?void 0:r.groups}const tr=/^tuple(?<array>(\[(\d*)\])*)$/;function bt(e){let t=e.type;if(tr.test(e.type)&&"components"in e){t="(";const r=e.components.length;for(let s=0;s<r;s++){const o=e.components[s];t+=bt(o),s<r-1&&(t+=", ")}const n=Mn(tr,e.type);return t+=`)${(n==null?void 0:n.array)??""}`,bt({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function ye(e){let t="";const r=e.length;for(let n=0;n<r;n++){const s=e[n];t+=bt(s),n!==r-1&&(t+=", ")}return t}function zn(e){return e.type==="function"?`function ${e.name}(${ye(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs.length?` returns (${ye(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${ye(e.inputs)})`:e.type==="error"?`error ${e.name}(${ye(e.inputs)})`:e.type==="constructor"?`constructor(${ye(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?"fallback()":"receive() external payable"}function T(e,t,r){return n=>{var s,o;return((s=e[t.name])==null?void 0:s.call(e,n))??((o=e[r])==null?void 0:o.call(e,n))??t(e,n)}}function H(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new Qn(e.type);return`${e.name}(${Qe(e.inputs,{includeName:t})})`}function Qe(e,{includeName:t=!1}={}){return e?e.map(r=>Gn(r,{includeName:t})).join(t?", ":","):""}function Gn(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Qe(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}class Ln extends y{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class rr extends y{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class Er extends y{constructor({data:t,params:r,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Qe(r,{includeName:!0})})`,`Data:   ${t} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=r,this.size=n}}class Xe extends y{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class Dn extends y{constructor({expectedLength:t,givenLength:r,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${t}`,`Given length: ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class Un extends y{constructor({expectedSize:t,value:r}){super(`Size of bytes "${r}" (bytes${N(r)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class _n extends y{constructor({expectedLength:t,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class Tr extends y{constructor(t,{docsPath:r}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class qn extends y{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class Ar extends y{constructor(t,{docsPath:r}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class nr extends y{constructor(t,{docsPath:r}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class We extends y{constructor(t,{docsPath:r}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class Hn extends y{constructor(t,{docsPath:r}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class Vn extends y{constructor(t,r){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${H(t.abiItem)}\`, and`,`\`${r.type}\` in \`${H(r.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}class Wn extends y{constructor({expectedSize:t,givenSize:r}){super(`Expected bytes${t}, got bytes${r}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class ve extends y{constructor({abiItem:t,data:r,params:n,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Qe(n,{includeName:!0})})`,`Data:   ${r} (${s} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=r,this.params=n,this.size=s}}class Ke extends y{constructor({abiItem:t,param:r}){super([`Expected a topic for indexed event parameter${r.name?` "${r.name}"`:""} on event "${H(t,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class Jn extends y{constructor(t,{docsPath:r}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class Zn extends y{constructor(t,{docsPath:r}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class Yn extends y{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class Qn extends y{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class Xn extends y{constructor(t){super(`Filter type "${t}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}function et(e,{dir:t="left"}={}){let r=typeof e=="string"?e.replace("0x",""):e,n=0;for(let s=0;s<r.length-1&&r[t==="left"?s:r.length-s-1].toString()==="0";s++)n++;return r=t==="left"?r.slice(n):r.slice(0,r.length-n),typeof e=="string"?(r.length===1&&t==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r}const Kn=new TextEncoder;function W(e,t={}){return typeof e=="number"||typeof e=="bigint"?ts(e,t):typeof e=="boolean"?es(e,t):G(e)?te(e,t):_(e,t)}function es(e,t={}){const r=new Uint8Array(1);return r[0]=Number(e),typeof t.size=="number"?(oe(r,{size:t.size}),It(r,{size:t.size})):r}const U={zero:48,nine:57,A:65,F:70,a:97,f:102};function sr(e){if(e>=U.zero&&e<=U.nine)return e-U.zero;if(e>=U.A&&e<=U.F)return e-(U.A-10);if(e>=U.a&&e<=U.f)return e-(U.a-10)}function te(e,t={}){let r=e;t.size&&(oe(r,{size:t.size}),r=It(r,{dir:"right",size:t.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const s=n.length/2,o=new Uint8Array(s);for(let a=0,i=0;a<s;a++){const u=sr(n.charCodeAt(i++)),c=sr(n.charCodeAt(i++));if(u===void 0||c===void 0)throw new y(`Invalid byte sequence ("${n[i-2]}${n[i-1]}" in "${n}").`);o[a]=u*16+c}return o}function ts(e,t){const r=O(e,t);return te(r)}function _(e,t={}){const r=Kn.encode(e);return typeof t.size=="number"?(oe(r,{size:t.size}),It(r,{dir:"right",size:t.size})):r}function S(e,t){const r=t||"hex",n=$n(G(e,{strict:!1})?W(e):e);return r==="bytes"?n:ae(n)}const rs=e=>S(W(e));function ns(e){return rs(e)}function ss(e){let t=!0,r="",n=0,s="",o=!1;for(let a=0;a<e.length;a++){const i=e[a];if(["(",")",","].includes(i)&&(t=!0),i==="("&&n++,i===")"&&n--,!!t){if(n===0){if(i===" "&&["event","function",""].includes(s))s="";else if(s+=i,i===")"){o=!0;break}continue}if(i===" "){e[a-1]!==","&&r!==","&&r!==",("&&(r="",t=!1);continue}s+=i,r+=i}}if(!o)throw new y("Unable to normalize signature.");return s}const os=e=>{const t=typeof e=="string"?e:zn(e);return ss(t)};function Br(e){return ns(os(e))}const Nt=Br;class re extends y{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}class Or extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}set(t,r){return super.set(t,r),this.maxSize&&this.size>this.maxSize&&this.delete(this.keys().next().value),this}}const it=new Or(8192);function $r(e,t){if(it.has(`${e}.${t}`))return it.get(`${e}.${t}`);const r=e.substring(2).toLowerCase(),n=S(_(r),"bytes"),s=r.split("");for(let a=0;a<40;a+=2)n[a>>1]>>4>=8&&s[a]&&(s[a]=s[a].toUpperCase()),(n[a>>1]&15)>=8&&s[a+1]&&(s[a+1]=s[a+1].toUpperCase());const o=`0x${s.join("")}`;return it.set(`${e}.${t}`,o),o}const as=/^0x[a-fA-F0-9]{40}$/,ut=new Or(8192);function L(e,t){const{strict:r=!0}=t??{};if(ut.has(e))return ut.get(e);const n=as.test(e)?e.toLowerCase()===e?!0:r?$r(e)===e:!0:!1;return ut.set(e,n),n}function D(e){return typeof e[0]=="string"?Ct(e):is(e)}function is(e){let t=0;for(const s of e)t+=s.length;const r=new Uint8Array(t);let n=0;for(const s of e)r.set(s,n),n+=s.length;return r}function Ct(e){return`0x${e.reduce((t,r)=>t+r.replace("0x",""),"")}`}function Je(e,t,r,{strict:n}={}){return G(e,{strict:!1})?us(e,t,r,{strict:n}):jr(e,t,r,{strict:n})}function Fr(e,t){if(typeof t=="number"&&t>0&&t>N(e)-1)throw new xr({offset:t,position:"start",size:N(e)})}function kr(e,t,r){if(typeof t=="number"&&typeof r=="number"&&N(e)!==r-t)throw new xr({offset:r,position:"end",size:N(e)})}function jr(e,t,r,{strict:n}={}){Fr(e,t);const s=e.slice(t,r);return n&&kr(s,t,r),s}function us(e,t,r,{strict:n}={}){Fr(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return n&&kr(s,t,r),s}function be(e,t){if(e.length!==t.length)throw new _n({expectedLength:e.length,givenLength:t.length});const r=cs({params:e,values:t}),n=St(r);return n.length===0?"0x":n}function cs({params:e,values:t}){const r=[];for(let n=0;n<e.length;n++)r.push(Rt({param:e[n],value:t[n]}));return r}function Rt({param:e,value:t}){const r=Mt(e.type);if(r){const[n,s]=r;return ds(t,{length:n,param:{...e,type:s}})}if(e.type==="tuple")return ms(t,{param:e});if(e.type==="address")return ls(t);if(e.type==="bool")return bs(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const n=e.type.startsWith("int");return ps(t,{signed:n})}if(e.type.startsWith("bytes"))return fs(t,{param:e});if(e.type==="string")return hs(t);throw new Jn(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function St(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:a,encoded:i}=e[o];a?t+=32:t+=N(i)}const r=[],n=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:a,encoded:i}=e[o];a?(r.push(O(t+s,{size:32})),n.push(i),s+=N(i)):r.push(i)}return D([...r,...n])}function ls(e){if(!L(e))throw new re({address:e});return{dynamic:!1,encoded:K(e.toLowerCase())}}function ds(e,{length:t,param:r}){const n=t===null;if(!Array.isArray(e))throw new Yn(e);if(!n&&e.length!==t)throw new Dn({expectedLength:t,givenLength:e.length,type:`${r.type}[${t}]`});let s=!1;const o=[];for(let a=0;a<e.length;a++){const i=Rt({param:r,value:e[a]});i.dynamic&&(s=!0),o.push(i)}if(n||s){const a=St(o);if(n){const i=O(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?D([i,a]):i}}if(s)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:D(o.map(({encoded:a})=>a))}}function fs(e,{param:t}){const[,r]=t.type.split("bytes"),n=N(e);if(!r){let s=e;return n%32!==0&&(s=K(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:D([K(O(n,{size:32})),s])}}if(n!==Number.parseInt(r))throw new Un({expectedSize:Number.parseInt(r),value:e});return{dynamic:!1,encoded:K(e,{dir:"right"})}}function bs(e){if(typeof e!="boolean")throw new y(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:K(Fn(e))}}function ps(e,{signed:t}){return{dynamic:!1,encoded:O(e,{size:32,signed:t})}}function hs(e){const t=kn(e),r=Math.ceil(N(t)/32),n=[];for(let s=0;s<r;s++)n.push(K(Je(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:D([K(O(N(t),{size:32})),...n])}}function ms(e,{param:t}){let r=!1;const n=[];for(let s=0;s<t.components.length;s++){const o=t.components[s],a=Array.isArray(e)?s:o.name,i=Rt({param:o,value:e[a]});n.push(i),i.dynamic&&(r=!0)}return{dynamic:r,encoded:r?St(n):D(n.map(({encoded:s})=>s))}}function Mt(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const zt=e=>Je(Br(e),0,4);function ze(e){const{abi:t,args:r=[],name:n}=e,s=G(n,{strict:!1}),o=t.filter(i=>s?i.type==="function"?zt(i)===n:i.type==="event"?Nt(i)===n:!1:"name"in i&&i.name===n);if(o.length===0)return;if(o.length===1)return o[0];let a;for(const i of o){if(!("inputs"in i))continue;if(!r||r.length===0){if(!i.inputs||i.inputs.length===0)return i;continue}if(!i.inputs||i.inputs.length===0||i.inputs.length!==r.length)continue;if(r.every((c,d)=>{const f="inputs"in i&&i.inputs[d];return f?pt(c,f):!1})){if(a&&"inputs"in a&&a.inputs){const c=Ir(i.inputs,a.inputs,r);if(c)throw new Vn({abiItem:i,type:c[0]},{abiItem:a,type:c[1]})}a=i}}return a||o[0]}function pt(e,t){const r=typeof e,n=t.type;switch(n){case"address":return L(e,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>pt(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(e)&&e.every(s=>pt(s,{...t,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Ir(e,t,r){for(const n in e){const s=e[n],o=t[n];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Ir(s.components,o.components,r[n]);const a=[s.type,o.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?L(r[n],{strict:!1}):a.includes("address")&&a.includes("bytes")?L(r[n],{strict:!1}):!1)return a}}const or="/docs/contract/encodeEventTopics";function Ge(e){var u;const{abi:t,eventName:r,args:n}=e;let s=t[0];if(r){const c=ze({abi:t,name:r});if(!c)throw new nr(r,{docsPath:or});s=c}if(s.type!=="event")throw new nr(void 0,{docsPath:or});const o=H(s),a=Nt(o);let i=[];if(n&&"inputs"in s){const c=(u=s.inputs)==null?void 0:u.filter(f=>"indexed"in f&&f.indexed),d=Array.isArray(n)?n:Object.values(n).length>0?(c==null?void 0:c.map(f=>n[f.name]))??[]:[];d.length>0&&(i=(c==null?void 0:c.map((f,l)=>Array.isArray(d[l])?d[l].map((p,h)=>ar({param:f,value:d[l][h]})):d[l]?ar({param:f,value:d[l]}):null))??[])}return[a,...i]}function ar({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return S(W(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Xn(e.type);return be([e],[t])}function tt(e,{method:t}){var n,s;const r={};return e.transport.type==="fallback"&&((s=(n=e.transport).onResponse)==null||s.call(n,({method:o,response:a,status:i,transport:u})=>{i==="success"&&t===o&&(r[a]=u.request)})),o=>r[o]||e.request}async function Nr(e,t){const{address:r,abi:n,args:s,eventName:o,fromBlock:a,strict:i,toBlock:u}=t,c=tt(e,{method:"eth_newFilter"}),d=o?Ge({abi:n,args:s,eventName:o}):void 0,f=await e.request({method:"eth_newFilter",params:[{address:r,fromBlock:typeof a=="bigint"?O(a):a,toBlock:typeof u=="bigint"?O(u):u,topics:d}]});return{abi:n,args:s,eventName:o,id:f,request:c(f),strict:!!i,type:"event"}}function X(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const ir="/docs/contract/encodeFunctionData";function ys(e){const{abi:t,args:r,functionName:n}=e;let s=t[0];if(n){const o=ze({abi:t,args:r,name:n});if(!o)throw new We(n,{docsPath:ir});s=o}if(s.type!=="function")throw new We(void 0,{docsPath:ir});return{abi:[s],functionName:zt(H(s))}}function ie(e){const{args:t}=e,{abi:r,functionName:n}=(()=>{var i;return e.abi.length===1&&((i=e.functionName)!=null&&i.startsWith("0x"))?e:ys(e)})(),s=r[0],o=n,a="inputs"in s&&s.inputs?be(s.inputs,t??[]):void 0;return Ct([o,a??"0x"])}const Cr={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},gs={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},ws={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class ur extends y{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NegativeOffsetError"})}}class Rr extends y{constructor({length:t,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PositionOutOfBoundsError"})}}class vs extends y{constructor({count:t,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RecursiveReadLimitExceededError"})}}const Ps={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new vs({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Rr({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new ur({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new ur({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Sr(e,{recursiveReadLimit:t=8192}={}){const r=Object.create(Ps);return r.bytes=e,r.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}function xs(e,t={}){typeof t.size<"u"&&oe(e,{size:t.size});const r=R(e,t);return we(r,t)}function Es(e,t={}){let r=e;if(typeof t.size<"u"&&(oe(r,{size:t.size}),r=et(r)),r.length>1||r[0]>1)throw new jn(r);return!!r[0]}function q(e,t={}){typeof t.size<"u"&&oe(e,{size:t.size});const r=R(e,t);return V(r,t)}function Ts(e,t={}){let r=e;return typeof t.size<"u"&&(oe(r,{size:t.size}),r=et(r,{dir:"right"})),new TextDecoder().decode(r)}function rt(e,t){const r=typeof t=="string"?te(t):t,n=Sr(r);if(N(r)===0&&e.length>0)throw new Xe;if(N(t)&&N(t)<32)throw new Er({data:typeof t=="string"?t:R(t),params:e,size:N(t)});let s=0;const o=[];for(let a=0;a<e.length;++a){const i=e[a];n.setPosition(s);const[u,c]=le(n,i,{staticPosition:0});s+=c,o.push(u)}return o}function le(e,t,{staticPosition:r}){const n=Mt(t.type);if(n){const[s,o]=n;return Bs(e,{...t,type:o},{length:s,staticPosition:r})}if(t.type==="tuple")return ks(e,t,{staticPosition:r});if(t.type==="address")return As(e);if(t.type==="bool")return Os(e);if(t.type.startsWith("bytes"))return $s(e,t,{staticPosition:r});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Fs(e,t);if(t.type==="string")return js(e,{staticPosition:r});throw new Zn(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const cr=32,ht=32;function As(e){const t=e.readBytes(32);return[$r(R(jr(t,-20))),32]}function Bs(e,t,{length:r,staticPosition:n}){if(!r){const a=q(e.readBytes(ht)),i=n+a,u=i+cr;e.setPosition(i);const c=q(e.readBytes(cr)),d=Pe(t);let f=0;const l=[];for(let p=0;p<c;++p){e.setPosition(u+(d?p*32:f));const[h,b]=le(e,t,{staticPosition:u});f+=b,l.push(h)}return e.setPosition(n+32),[l,32]}if(Pe(t)){const a=q(e.readBytes(ht)),i=n+a,u=[];for(let c=0;c<r;++c){e.setPosition(i+c*32);const[d]=le(e,t,{staticPosition:i});u.push(d)}return e.setPosition(n+32),[u,32]}let s=0;const o=[];for(let a=0;a<r;++a){const[i,u]=le(e,t,{staticPosition:n+s});s+=u,o.push(i)}return[o,s]}function Os(e){return[Es(e.readBytes(32),{size:32}),32]}function $s(e,t,{staticPosition:r}){const[n,s]=t.type.split("bytes");if(!s){const a=q(e.readBytes(32));e.setPosition(r+a);const i=q(e.readBytes(32));if(i===0)return e.setPosition(r+32),["0x",32];const u=e.readBytes(i);return e.setPosition(r+32),[R(u),32]}return[R(e.readBytes(Number.parseInt(s),32)),32]}function Fs(e,t){const r=t.type.startsWith("int"),n=Number.parseInt(t.type.split("int")[1]||"256"),s=e.readBytes(32);return[n>48?xs(s,{signed:r}):q(s,{signed:r}),32]}function ks(e,t,{staticPosition:r}){const n=t.components.length===0||t.components.some(({name:a})=>!a),s=n?[]:{};let o=0;if(Pe(t)){const a=q(e.readBytes(ht)),i=r+a;for(let u=0;u<t.components.length;++u){const c=t.components[u];e.setPosition(i+o);const[d,f]=le(e,c,{staticPosition:i});o+=f,s[n?u:c==null?void 0:c.name]=d}return e.setPosition(r+32),[s,32]}for(let a=0;a<t.components.length;++a){const i=t.components[a],[u,c]=le(e,i,{staticPosition:r});s[n?a:i==null?void 0:i.name]=u,o+=c}return[s,o]}function js(e,{staticPosition:t}){const r=q(e.readBytes(32)),n=t+r;e.setPosition(n);const s=q(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),a=Ts(et(o));return e.setPosition(t+32),[a,32]}function Pe(e){var n;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(n=e.components)==null?void 0:n.some(Pe);const r=Mt(e.type);return!!(r&&Pe({...e,type:r[1]}))}function Mr(e){const{abi:t,data:r}=e,n=Je(r,0,4);if(n==="0x")throw new Xe;const o=[...t||[],gs,ws].find(a=>a.type==="error"&&n===zt(H(a)));if(!o)throw new Tr(n,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?rt(o.inputs,Je(r,4)):void 0,errorName:o.name}}const C=(e,t,r)=>JSON.stringify(e,(n,s)=>typeof s=="bigint"?s.toString():s,r);function zr({abiItem:e,args:t,includeFunctionName:r=!0,includeName:n=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${r?e.name:""}(${e.inputs.map((s,o)=>`${n&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?C(t[o]):t[o]}`).join(", ")})`}const Is={gwei:9,wei:18},Ns={ether:-9,wei:9};function Gr(e,t){let r=e.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(t,"0");let[s,o]=[r.slice(0,r.length-t),r.slice(r.length-t)];return o=o.replace(/(0+)$/,""),`${n?"-":""}${s||"0"}${o?`.${o}`:""}`}function Lr(e,t="wei"){return Gr(e,Is[t])}function z(e,t="wei"){return Gr(e,Ns[t])}class Cs extends y{constructor({address:t}){super(`State for account "${t}" is set multiple times.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountStateConflictError"})}}class Rs extends y{constructor(){super("state and stateDiff are set on the same account."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"StateAssignmentConflictError"})}}function lr(e){return e.reduce((t,{slot:r,value:n})=>`${t}        ${r}: ${n}
`,"")}function Ss(e){return e.reduce((t,{address:r,...n})=>{let s=`${t}    ${r}:
`;return n.nonce&&(s+=`      nonce: ${n.nonce}
`),n.balance&&(s+=`      balance: ${n.balance}
`),n.code&&(s+=`      code: ${n.code}
`),n.state&&(s+=`      state:
`,s+=lr(n.state)),n.stateDiff&&(s+=`      stateDiff:
`,s+=lr(n.stateDiff)),s},`  State Override:
`).slice(0,-1)}function nt(e){const t=Object.entries(e).map(([n,s])=>s===void 0||s===!1?null:[n,s]).filter(Boolean),r=t.reduce((n,[s])=>Math.max(n,s.length),0);return t.map(([n,s])=>`  ${`${n}:`.padEnd(r+1)}  ${s}`).join(`
`)}class Ms extends y{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class zs extends y{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",nt(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class Dr extends y{constructor({blockHash:t,blockNumber:r,blockTag:n,hash:s,index:o}){let a="Transaction";n&&o!==void 0&&(a=`Transaction at block time "${n}" at index "${o}"`),t&&o!==void 0&&(a=`Transaction at block hash "${t}" at index "${o}"`),r&&o!==void 0&&(a=`Transaction at block number "${r}" at index "${o}"`),s&&(a=`Transaction with hash "${s}"`),super(`${a} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class Ur extends y{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class dr extends y{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class _r extends y{constructor(t,{account:r,docsPath:n,chain:s,data:o,gas:a,gasPrice:i,maxFeePerGas:u,maxPriorityFeePerGas:c,nonce:d,to:f,value:l,stateOverride:p}){var g;const h=r?X(r):void 0;let b=nt({from:h==null?void 0:h.address,to:f,value:typeof l<"u"&&`${Lr(l)} ${((g=s==null?void 0:s.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:o,gas:a,gasPrice:typeof i<"u"&&`${z(i)} gwei`,maxFeePerGas:typeof u<"u"&&`${z(u)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${z(c)} gwei`,nonce:d});p&&(b+=`
${Ss(p)}`),super(t.shortMessage,{cause:t,docsPath:n,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",b].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=t}}class Gs extends y{constructor(t,{abi:r,args:n,contractAddress:s,docsPath:o,functionName:a,sender:i}){const u=ze({abi:r,args:n,name:a}),c=u?zr({abiItem:u,args:n,includeFunctionName:!1,includeName:!1}):void 0,d=u?H(u,{includeName:!0}):void 0,f=nt({address:s&&In(s),function:d,args:c&&c!=="()"&&`${[...Array((a==null?void 0:a.length)??0).keys()].map(()=>" ").join("")}${c}`,sender:i});super(t.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Contract Call:",f].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=r,this.args=n,this.cause=t,this.contractAddress=s,this.functionName=a,this.sender=i}}class mt extends y{constructor({abi:t,data:r,functionName:n,message:s}){let o,a,i,u;if(r&&r!=="0x")try{a=Mr({abi:t,data:r});const{abiItem:d,errorName:f,args:l}=a;if(f==="Error")u=l[0];else if(f==="Panic"){const[p]=l;u=Cr[p]}else{const p=d?H(d,{includeName:!0}):void 0,h=d&&l?zr({abiItem:d,args:l,includeFunctionName:!1,includeName:!1}):void 0;i=[p?`Error: ${p}`:"",h&&h!=="()"?`       ${[...Array((f==null?void 0:f.length)??0).keys()].map(()=>" ").join("")}${h}`:""]}}catch(d){o=d}else s&&(u=s);let c;o instanceof Tr&&(c=o.signature,i=[`Unable to decode signature "${c}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${c}.`]),super(u&&u!=="execution reverted"||c?[`The contract function "${n}" reverted with the following ${c?"signature":"reason"}:`,u||c].join(`
`):`The contract function "${n}" reverted.`,{cause:o,metaMessages:i}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=a,this.reason=u,this.signature=c}}class Ls extends y{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class Gt extends y{constructor({data:t,message:r}){super(r||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class ee extends y{constructor({body:t,details:r,headers:n,status:s,url:o}){super("HTTP request failed.",{details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${Me(o)}`,t&&`Request body: ${C(t)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=n,this.status=s,this.url=o}}class qr extends y{constructor({body:t,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${Me(n)}`,`Request body: ${C(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code}}class fr extends y{constructor({body:t,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Me(r)}`,`Request body: ${C(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const Ds=-1;class M extends y{constructor(t,{code:r,docsPath:n,metaMessages:s,shortMessage:o}){super(o,{cause:t,docsPath:n,metaMessages:s||(t==null?void 0:t.metaMessages)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=t.name,this.code=t instanceof qr?t.code:r??Ds}}class pe extends M{constructor(t,r){super(t,r),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class xe extends M{constructor(t){super(t,{code:xe.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(xe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Ee extends M{constructor(t){super(t,{code:Ee.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(Ee,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Te extends M{constructor(t){super(t,{code:Te.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(Te,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Ae extends M{constructor(t){super(t,{code:Ae.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(Ae,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class ne extends M{constructor(t){super(t,{code:ne.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(ne,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class se extends M{constructor(t){super(t,{code:se.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(se,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Be extends M{constructor(t){super(t,{code:Be.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Be,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Oe extends M{constructor(t){super(t,{code:Oe.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(Oe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class $e extends M{constructor(t){super(t,{code:$e.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty($e,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Fe extends M{constructor(t){super(t,{code:Fe.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(Fe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class fe extends M{constructor(t){super(t,{code:fe.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(fe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class ke extends M{constructor(t){super(t,{code:ke.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(ke,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class de extends pe{constructor(t){super(t,{code:de.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(de,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class je extends pe{constructor(t){super(t,{code:je.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(je,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Ie extends pe{constructor(t){super(t,{code:Ie.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(Ie,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Ne extends pe{constructor(t){super(t,{code:Ne.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(Ne,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Ce extends pe{constructor(t){super(t,{code:Ce.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(Ce,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Re extends pe{constructor(t){super(t,{code:Re.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(Re,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Us extends M{constructor(t){super(t,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}const _s=3;function Se(e,{abi:t,address:r,args:n,docsPath:s,functionName:o,sender:a}){const{code:i,data:u,message:c,shortMessage:d}=e instanceof Gt?e:e instanceof y?e.walk(l=>"data"in l)||e.walk():{},f=e instanceof Xe?new Ls({functionName:o}):[_s,ne.code].includes(i)&&(u||c||d)?new mt({abi:t,data:typeof u=="object"?u.data:u,functionName:o,message:d??c}):e;return new Gs(f,{abi:t,args:n,contractAddress:r,docsPath:s,functionName:o,sender:a})}class qs extends y{constructor(t,{account:r,docsPath:n,chain:s,data:o,gas:a,gasPrice:i,maxFeePerGas:u,maxPriorityFeePerGas:c,nonce:d,to:f,value:l}){var h;const p=nt({from:r==null?void 0:r.address,to:f,value:typeof l<"u"&&`${Lr(l)} ${((h=s==null?void 0:s.nativeCurrency)==null?void 0:h.symbol)||"ETH"}`,data:o,gas:a,gasPrice:typeof i<"u"&&`${z(i)} gwei`,maxFeePerGas:typeof u<"u"&&`${z(u)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${z(c)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:n,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=t}}class ce extends y{constructor({cause:t,message:r}={}){var s;const n=(s=r==null?void 0:r.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(ce,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(ce,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Ze extends y{constructor({cause:t,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${z(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(Ze,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class yt extends y{constructor({cause:t,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${z(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(yt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class gt extends y{constructor({cause:t,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(gt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class wt extends y{constructor({cause:t,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(wt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class vt extends y{constructor({cause:t,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(vt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Pt extends y{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(Pt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class xt extends y{constructor({cause:t,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(xt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Et extends y{constructor({cause:t,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(Et,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Tt extends y{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Tt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Ye extends y{constructor({cause:t,maxPriorityFeePerGas:r,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${z(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${z(n)} gwei`:""}).`].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(Ye,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Lt extends y{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}function Hr(e,t){const r=(e.details||"").toLowerCase(),n=e instanceof y?e.walk(s=>s.code===ce.code):e;return n instanceof y?new ce({cause:e,message:n.details}):ce.nodeMessage.test(r)?new ce({cause:e,message:e.details}):Ze.nodeMessage.test(r)?new Ze({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):yt.nodeMessage.test(r)?new yt({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):gt.nodeMessage.test(r)?new gt({cause:e,nonce:t==null?void 0:t.nonce}):wt.nodeMessage.test(r)?new wt({cause:e,nonce:t==null?void 0:t.nonce}):vt.nodeMessage.test(r)?new vt({cause:e,nonce:t==null?void 0:t.nonce}):Pt.nodeMessage.test(r)?new Pt({cause:e}):xt.nodeMessage.test(r)?new xt({cause:e,gas:t==null?void 0:t.gas}):Et.nodeMessage.test(r)?new Et({cause:e,gas:t==null?void 0:t.gas}):Tt.nodeMessage.test(r)?new Tt({cause:e}):Ye.nodeMessage.test(r)?new Ye({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new Lt({cause:e})}function Hs(e,{docsPath:t,...r}){const n=(()=>{const s=Hr(e,r);return s instanceof Lt?e:s})();return new qs(n,{docsPath:t,...r})}function Vr(e,{format:t}){if(!t)return{};const r={};function n(o){const a=Object.keys(o);for(const i of a)i in e&&(r[i]=e[i]),o[i]&&typeof o[i]=="object"&&!Array.isArray(o[i])&&n(o[i])}const s=t(e||{});return n(s),r}const Vs={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3"};function Wr(e){const t={};return typeof e.accessList<"u"&&(t.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(t.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?t.blobs=e.blobs.map(r=>R(r)):t.blobs=e.blobs),typeof e.data<"u"&&(t.data=e.data),typeof e.from<"u"&&(t.from=e.from),typeof e.gas<"u"&&(t.gas=O(e.gas)),typeof e.gasPrice<"u"&&(t.gasPrice=O(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=O(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=O(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=O(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=O(e.nonce)),typeof e.to<"u"&&(t.to=e.to),typeof e.type<"u"&&(t.type=Vs[e.type]),typeof e.value<"u"&&(t.value=O(e.value)),t}function br(e){if(!(!e||e.length===0))return e.reduce((t,{slot:r,value:n})=>{if(r.length!==66)throw new er({size:r.length,targetSize:66,type:"hex"});if(n.length!==66)throw new er({size:n.length,targetSize:66,type:"hex"});return t[r]=n,t},{})}function Ws(e){const{balance:t,nonce:r,state:n,stateDiff:s,code:o}=e,a={};if(o!==void 0&&(a.code=o),t!==void 0&&(a.balance=O(t)),r!==void 0&&(a.nonce=O(r)),n!==void 0&&(a.state=br(n)),s!==void 0){if(a.state)throw new Rs;a.stateDiff=br(s)}return a}function Jr(e){if(!e)return;const t={};for(const{address:r,...n}of e){if(!L(r,{strict:!1}))throw new re({address:r});if(t[r])throw new Cs({address:r});t[r]=Ws(n)}return t}function Dt(e){const{account:t,gasPrice:r,maxFeePerGas:n,maxPriorityFeePerGas:s,to:o}=e,a=t?X(t):void 0;if(a&&!L(a.address))throw new re({address:a.address});if(o&&!L(o))throw new re({address:o});if(typeof r<"u"&&(typeof n<"u"||typeof s<"u"))throw new Ms;if(n&&n>2n**256n-1n)throw new Ze({maxFeePerGas:n});if(s&&n&&s>n)throw new Ye({maxFeePerGas:n,maxPriorityFeePerGas:s})}class Js extends y{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class Ut extends y{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class Zs extends y{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${z(t)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class Zr extends y{constructor({blockHash:t,blockNumber:r}){let n="Block";t&&(n=`Block at hash "${t}"`),r&&(n=`Block at number "${r}"`),super(`${n} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const Yr={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844"};function Qr(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?V(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?V(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Yr[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}function Xr(e){var r;const t=(r=e.transactions)==null?void 0:r.map(n=>typeof n=="string"?n:Qr(n));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function J(e,{blockHash:t,blockNumber:r,blockTag:n,includeTransactions:s}={}){var d,f,l;const o=n??"latest",a=s??!1,i=r!==void 0?O(r):void 0;let u=null;if(t?u=await e.request({method:"eth_getBlockByHash",params:[t,a]}):u=await e.request({method:"eth_getBlockByNumber",params:[i||o,a]}),!u)throw new Zr({blockHash:t,blockNumber:r});return(((l=(f=(d=e.chain)==null?void 0:d.formatters)==null?void 0:f.block)==null?void 0:l.format)||Xr)(u)}async function _t(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Ys(e,t){return Kr(e,t)}async function Kr(e,t){var o,a,i;const{block:r,chain:n=e.chain,request:s}=t||{};if(typeof((o=n==null?void 0:n.fees)==null?void 0:o.defaultPriorityFee)=="function"){const u=r||await T(e,J,"getBlock")({});return n.fees.defaultPriorityFee({block:u,client:e,request:s})}if(typeof((a=n==null?void 0:n.fees)==null?void 0:a.defaultPriorityFee)<"u")return(i=n==null?void 0:n.fees)==null?void 0:i.defaultPriorityFee;try{const u=await e.request({method:"eth_maxPriorityFeePerGas"});return we(u)}catch{const[u,c]=await Promise.all([r?Promise.resolve(r):T(e,J,"getBlock")({}),T(e,_t,"getGasPrice")({})]);if(typeof u.baseFeePerGas!="bigint")throw new Ut;const d=c-u.baseFeePerGas;return d<0n?0n:d}}async function Qs(e,t){return At(e,t)}async function At(e,t){var l,p;const{block:r,chain:n=e.chain,request:s,type:o="eip1559"}=t||{},a=await(async()=>{var h,b;return typeof((h=n==null?void 0:n.fees)==null?void 0:h.baseFeeMultiplier)=="function"?n.fees.baseFeeMultiplier({block:r,client:e,request:s}):((b=n==null?void 0:n.fees)==null?void 0:b.baseFeeMultiplier)??1.2})();if(a<1)throw new Js;const u=10**(((l=a.toString().split(".")[1])==null?void 0:l.length)??0),c=h=>h*BigInt(Math.ceil(a*u))/BigInt(u),d=r||await T(e,J,"getBlock")({});if(typeof((p=n==null?void 0:n.fees)==null?void 0:p.estimateFeesPerGas)=="function"){const h=await n.fees.estimateFeesPerGas({block:r,client:e,multiply:c,request:s,type:o});if(h!==null)return h}if(o==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new Ut;const h=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await Kr(e,{block:d,chain:n,request:s}),b=c(d.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??b+h,maxPriorityFeePerGas:h}}return{gasPrice:(s==null?void 0:s.gasPrice)??c(await T(e,_t,"getGasPrice")({}))}}async function en(e,{address:t,blockTag:r="latest",blockNumber:n}){const s=await e.request({method:"eth_getTransactionCount",params:[t,n?O(n):r]});return V(s)}function tn(e){const{kzg:t}=e,r=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),n=typeof e.blobs[0]=="string"?e.blobs.map(o=>te(o)):e.blobs,s=[];for(const o of n)s.push(Uint8Array.from(t.blobToKzgCommitment(o)));return r==="bytes"?s:s.map(o=>R(o))}function rn(e){const{kzg:t}=e,r=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),n=typeof e.blobs[0]=="string"?e.blobs.map(a=>te(a)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(a=>te(a)):e.commitments,o=[];for(let a=0;a<n.length;a++){const i=n[a],u=s[a];o.push(Uint8Array.from(t.computeBlobKzgProof(i,u)))}return r==="bytes"?o:o.map(a=>R(a))}function Xs(e,t){return Nn(G(e,{strict:!1})?W(e):e)}function Ks(e){const{commitment:t,version:r=1}=e,n=e.to??(typeof t=="string"?"hex":"bytes"),s=Xs(t);return s.set([r],0),n==="bytes"?s:R(s)}function eo(e){const{commitments:t,version:r}=e,n=e.to,s=[];for(const o of t)s.push(Ks({commitment:o,to:n,version:r}));return s}const pr=6,nn=32,qt=4096,sn=nn*qt,hr=sn*pr-1-1*qt*pr;class to extends y{constructor({maxSize:t,size:r}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${r} bytes`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlobSizeTooLargeError"})}}class ro extends y{constructor(){super("Blob data must not be empty."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EmptyBlobError"})}}function no(e){const t=typeof e.data=="string"?te(e.data):e.data,r=N(t);if(!r)throw new ro;if(r>hr)throw new to({maxSize:hr,size:r});const n=[];let s=!0,o=0;for(;s;){const a=Sr(new Uint8Array(sn));let i=0;for(;i<qt;){const u=t.slice(o,o+(nn-1));if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),s=!1;break}i++,o+=31}n.push(a)}return n.map(a=>R(a.bytes))}function so(e){const{data:t,kzg:r,to:n}=e,s=e.blobs??no({data:t}),o=e.commitments??tn({blobs:s,kzg:r,to:n}),a=e.proofs??rn({blobs:s,commitments:o,kzg:r,to:n}),i=[];for(let u=0;u<s.length;u++)i.push({blob:s[u],commitment:o[u],proof:a[u]});return i}function oo(e){if(e.type)return e.type;if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new zs({transaction:e})}async function on(e){const t=await e.request({method:"eth_chainId"});return V(t)}const ao=["blobVersionedHashes","chainId","fees","gas","nonce","type"];async function an(e,t){const{account:r=e.account,blobs:n,chain:s,chainId:o,gas:a,kzg:i,nonce:u,parameters:c=ao,type:d}=t,f=r?X(r):void 0,l={...t,...f?{from:f==null?void 0:f.address}:{}};let p;async function h(){return p||(p=await T(e,J,"getBlock")({blockTag:"latest"}),p)}if((c.includes("blobVersionedHashes")||c.includes("sidecars"))&&n&&i){const b=tn({blobs:n,kzg:i});if(c.includes("blobVersionedHashes")){const g=eo({commitments:b,to:"hex"});l.blobVersionedHashes=g}if(c.includes("sidecars")){const g=rn({blobs:n,commitments:b,kzg:i}),m=so({blobs:n,commitments:b,proofs:g,to:"hex"});l.sidecars=m}}if(c.includes("chainId")&&(s?l.chainId=s.id:typeof o<"u"?l.chainId=o:l.chainId=await T(e,on,"getChainId")({})),c.includes("nonce")&&typeof u>"u"&&f&&(l.nonce=await T(e,en,"getTransactionCount")({address:f.address,blockTag:"pending"})),(c.includes("fees")||c.includes("type"))&&typeof d>"u")try{l.type=oo(l)}catch{const b=await h();l.type=typeof(b==null?void 0:b.baseFeePerGas)=="bigint"?"eip1559":"legacy"}if(c.includes("fees"))if(l.type!=="legacy"&&l.type!=="eip2930"){if(typeof l.maxFeePerGas>"u"||typeof l.maxPriorityFeePerGas>"u"){const b=await h(),{maxFeePerGas:g,maxPriorityFeePerGas:m}=await At(e,{block:b,chain:s,request:l});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<m)throw new Zs({maxPriorityFeePerGas:m});l.maxPriorityFeePerGas=m,l.maxFeePerGas=g}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new Ut;const b=await h(),{gasPrice:g}=await At(e,{block:b,chain:s,request:l,type:"legacy"});l.gasPrice=g}return c.includes("gas")&&typeof a>"u"&&(l.gas=await T(e,Ht,"estimateGas")({...l,account:f?{address:f.address,type:"json-rpc"}:void 0})),Dt(l),delete l.parameters,l}async function Ht(e,t){var s,o,a;const r=t.account??e.account,n=r?X(r):void 0;try{const{accessList:i,blobs:u,blobVersionedHashes:c,blockNumber:d,blockTag:f,data:l,gas:p,gasPrice:h,maxFeePerBlobGas:b,maxFeePerGas:g,maxPriorityFeePerGas:m,nonce:w,to:P,value:v,stateOverride:$,...A}=await an(e,{...t,parameters:(n==null?void 0:n.type)==="local"?void 0:["blobVersionedHashes"]}),E=(d?O(d):void 0)||f,x=Jr($);Dt(t);const F=(a=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionRequest)==null?void 0:a.format,I=(F||Wr)({...Vr(A,{format:F}),from:n==null?void 0:n.address,accessList:i,blobs:u,blobVersionedHashes:c,data:l,gas:p,gasPrice:h,maxFeePerBlobGas:b,maxFeePerGas:g,maxPriorityFeePerGas:m,nonce:w,to:P,value:v}),j=await e.request({method:"eth_estimateGas",params:x?[I,E??"latest",x]:E?[I,E]:[I]});return BigInt(j)}catch(i){throw Hs(i,{...t,account:n,chain:e.chain})}}async function io(e,t){const{abi:r,address:n,args:s,functionName:o,...a}=t,i=ie({abi:r,args:s,functionName:o});try{return await T(e,Ht,"estimateGas")({data:i,to:n,...a})}catch(u){const c=a.account?X(a.account):void 0;throw Se(u,{abi:r,address:n,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:c==null?void 0:c.address})}}const mr="/docs/contract/decodeEventLog";function Vt(e){const{abi:t,data:r,strict:n,topics:s}=e,o=n??!0,[a,...i]=s;if(!a)throw new qn({docsPath:mr});const u=t.find(b=>b.type==="event"&&a===Nt(H(b)));if(!(u&&"name"in u)||u.type!=="event")throw new Ar(a,{docsPath:mr});const{name:c,inputs:d}=u,f=d==null?void 0:d.some(b=>!("name"in b&&b.name));let l=f?[]:{};const p=d.filter(b=>"indexed"in b&&b.indexed);for(let b=0;b<p.length;b++){const g=p[b],m=i[b];if(!m)throw new Ke({abiItem:u,param:g});l[f?b:g.name||b]=uo({param:g,value:m})}const h=d.filter(b=>!("indexed"in b&&b.indexed));if(h.length>0){if(r&&r!=="0x")try{const b=rt(h,r);if(b)if(f)l=[...l,...b];else for(let g=0;g<h.length;g++)l[h[g].name]=b[g]}catch(b){if(o)throw b instanceof Er||b instanceof Rr?new ve({abiItem:u,data:r,params:h,size:N(r)}):b}else if(o)throw new ve({abiItem:u,data:"0x",params:h,size:0})}return{eventName:c,args:Object.values(l).length>0?l:void 0}}function uo({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(rt([e],t)||[])[0]}function Wt({abi:e,eventName:t,logs:r,strict:n=!0}){return r.map(s=>{var o;try{const a=Vt({...s,abi:e,strict:n});return t&&!t.includes(a.eventName)?null:{...a,...s}}catch(a){let i,u;if(a instanceof Ar)return null;if(a instanceof ve||a instanceof Ke){if(n)return null;i=a.abiItem.name,u=(o=a.abiItem.inputs)==null?void 0:o.some(c=>!("name"in c&&c.name))}return{...s,args:u?[]:{},eventName:i}}}).filter(Boolean)}function Z(e,{args:t,eventName:r}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...r?{args:t,eventName:r}:{}}}async function Jt(e,{address:t,blockHash:r,fromBlock:n,toBlock:s,event:o,events:a,args:i,strict:u}={}){const c=u??!1,d=a??(o?[o]:void 0);let f=[];d&&(f=[d.flatMap(h=>Ge({abi:[h],eventName:h.name,args:i}))],o&&(f=f[0]));let l;r?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:f,blockHash:r}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:f,fromBlock:typeof n=="bigint"?O(n):n,toBlock:typeof s=="bigint"?O(s):s}]});const p=l.map(h=>Z(h));return d?Wt({abi:d,logs:p,strict:c}):p}async function un(e,t){const{abi:r,address:n,args:s,blockHash:o,eventName:a,fromBlock:i,toBlock:u,strict:c}=t,d=a?ze({abi:r,name:a}):void 0,f=d?void 0:r.filter(l=>l.type==="event");return T(e,Jt,"getLogs")({address:n,args:s,blockHash:o,event:d,events:f,fromBlock:i,toBlock:u,strict:c})}const ct="/docs/contract/decodeFunctionResult";function he(e){const{abi:t,args:r,functionName:n,data:s}=e;let o=t[0];if(n){const i=ze({abi:t,args:r,name:n});if(!i)throw new We(n,{docsPath:ct});o=i}if(o.type!=="function")throw new We(void 0,{docsPath:ct});if(!o.outputs)throw new Hn(o.name,{docsPath:ct});const a=rt(o.outputs,s);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}const Bt=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],cn=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],ln=[...cn,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],co=[...cn,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],yr=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],gr=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],lo=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],fo="0x82ad56cb";class Ot extends y{constructor({blockNumber:t,chain:r,contract:n}){super(`Chain "${r.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...t&&n.blockCreated&&n.blockCreated>t?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${n.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class dn extends y{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}function me({blockNumber:e,chain:t,contract:r}){var s;const n=(s=t==null?void 0:t.contracts)==null?void 0:s[r];if(!n)throw new Ot({chain:t,contract:{name:r}});if(e&&n.blockCreated&&n.blockCreated>e)throw new Ot({blockNumber:e,chain:t,contract:{name:r,blockCreated:n.blockCreated}});return n.address}function bo(e,{docsPath:t,...r}){const n=(()=>{const s=Hr(e,r);return s instanceof Lt?e:s})();return new _r(n,{docsPath:t,...r})}const lt=new Map;function fn({fn:e,id:t,shouldSplitBatch:r,wait:n=0,sort:s}){const o=async()=>{const d=u();a();const f=d.map(({args:l})=>l);f.length!==0&&e(f).then(l=>{var p;s&&Array.isArray(l)&&l.sort(s);for(let h=0;h<d.length;h++){const{pendingPromise:b}=d[h];(p=b.resolve)==null||p.call(b,[l[h],l])}}).catch(l=>{var p;for(let h=0;h<d.length;h++){const{pendingPromise:b}=d[h];(p=b.reject)==null||p.call(b,l)}})},a=()=>lt.delete(t),i=()=>u().map(({args:d})=>d),u=()=>lt.get(t)||[],c=d=>lt.set(t,[...u(),d]);return{flush:a,async schedule(d){const f={},l=new Promise((b,g)=>{f.resolve=b,f.reject=g});return(r==null?void 0:r([...i(),d]))&&o(),u().length>0?(c({args:d,pendingPromise:f}),l):(c({args:d,pendingPromise:f}),setTimeout(o,n),l)}}}async function Le(e,t){var v,$,A,B;const{account:r=e.account,batch:n=!!((v=e.batch)!=null&&v.multicall),blockNumber:s,blockTag:o="latest",accessList:a,blobs:i,data:u,gas:c,gasPrice:d,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:p,nonce:h,to:b,value:g,stateOverride:m,...w}=t,P=r?X(r):void 0;try{Dt(t);const x=(s?O(s):void 0)||o,F=Jr(m),k=(B=(A=($=e.chain)==null?void 0:$.formatters)==null?void 0:A.transactionRequest)==null?void 0:B.format,j=(k||Wr)({...Vr(w,{format:k}),from:P==null?void 0:P.address,accessList:a,blobs:i,data:u,gas:c,gasPrice:d,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:p,nonce:h,to:b,value:g});if(n&&po({request:j})&&!F)try{return await ho(e,{...j,blockNumber:s,blockTag:o})}catch(ue){if(!(ue instanceof dn)&&!(ue instanceof Ot))throw ue}const _e=await e.request({method:"eth_call",params:F?[j,x,F]:[j,x]});return _e==="0x"?{data:void 0}:{data:_e}}catch(E){const x=mo(E),{offchainLookup:F,offchainLookupSignature:k}=await Cn(async()=>{const{offchainLookup:I,offchainLookupSignature:j}=await Promise.resolve().then(()=>fa);return{offchainLookup:I,offchainLookupSignature:j}},void 0,import.meta.url);if(e.ccipRead!==!1&&(x==null?void 0:x.slice(0,10))===k&&b)return{data:await F(e,{data:x,to:b})};throw bo(E,{...t,account:P,chain:e.chain})}}function po({request:e}){const{data:t,to:r,...n}=e;return!(!t||t.startsWith(fo)||!r||Object.values(n).filter(s=>typeof s<"u").length>0)}async function ho(e,t){var b;const{batchSize:r=1024,wait:n=0}=typeof((b=e.batch)==null?void 0:b.multicall)=="object"?e.batch.multicall:{},{blockNumber:s,blockTag:o="latest",data:a,multicallAddress:i,to:u}=t;let c=i;if(!c){if(!e.chain)throw new dn;c=me({blockNumber:s,chain:e.chain,contract:"multicall3"})}const f=(s?O(s):void 0)||o,{schedule:l}=fn({id:`${e.uid}.${f}`,wait:n,shouldSplitBatch(g){return g.reduce((w,{data:P})=>w+(P.length-2),0)>r*2},fn:async g=>{const m=g.map(v=>({allowFailure:!0,callData:v.data,target:v.to})),w=ie({abi:Bt,args:[m],functionName:"aggregate3"}),P=await e.request({method:"eth_call",params:[{data:w,to:c},f]});return he({abi:Bt,args:[m],functionName:"aggregate3",data:P||"0x"})}}),[{returnData:p,success:h}]=await l({data:a,to:u});if(!h)throw new Gt({data:p});return p==="0x"?{data:void 0}:{data:p}}function mo(e){var r;if(!(e instanceof y))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(r=t.data)==null?void 0:r.data:t.data}async function Y(e,t){const{abi:r,address:n,args:s,functionName:o,...a}=t,i=ie({abi:r,args:s,functionName:o});try{const{data:u}=await T(e,Le,"call")({...a,data:i,to:n});return he({abi:r,args:s,functionName:o,data:u||"0x"})}catch(u){throw Se(u,{abi:r,address:n,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function yo(e,t){const{abi:r,address:n,args:s,dataSuffix:o,functionName:a,...i}=t,u=i.account?X(i.account):e.account,c=ie({abi:r,args:s,functionName:a});try{const{data:d}=await T(e,Le,"call")({batch:!1,data:`${c}${o?o.replace("0x",""):""}`,to:n,...i,account:u}),f=he({abi:r,args:s,functionName:a,data:d||"0x"}),l=r.filter(p=>"name"in p&&p.name===t.functionName);return{result:f,request:{abi:l,address:n,args:s,dataSuffix:o,functionName:a,...i,account:u}}}catch(d){throw Se(d,{abi:r,address:n,args:s,docsPath:"/docs/contract/simulateContract",functionName:a,sender:u==null?void 0:u.address})}}const dt=new Map,wr=new Map;let go=0;function Q(e,t,r){const n=++go,s=()=>dt.get(e)||[],o=()=>{const d=s();dt.set(e,d.filter(f=>f.id!==n))},a=()=>{const d=wr.get(e);s().length===1&&d&&d(),o()},i=s();if(dt.set(e,[...i,{id:n,fns:t}]),i&&i.length>0)return a;const u={};for(const d in t)u[d]=(...f)=>{var p,h;const l=s();if(l.length!==0)for(const b of l)(h=(p=b.fns)[d])==null||h.call(p,...f)};const c=r(u);return typeof c=="function"&&wr.set(e,c),a}async function $t(e){return new Promise(t=>setTimeout(t,e))}function De(e,{emitOnBegin:t,initialWaitTime:r,interval:n}){let s=!0;const o=()=>s=!1;return(async()=>{let i;t&&(i=await e({unpoll:o}));const u=await(r==null?void 0:r(i))??n;await $t(u);const c=async()=>{s&&(await e({unpoll:o}),await $t(n),c())};c()})(),o}const wo=new Map,vo=new Map;function Po(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:a=>o.set(s,a)}),r=t(e,wo),n=t(e,vo);return{clear:()=>{r.clear(),n.clear()},promise:r,response:n}}async function xo(e,{cacheKey:t,cacheTime:r=Number.POSITIVE_INFINITY}){const n=Po(t),s=n.response.get();if(s&&r>0&&new Date().getTime()-s.created.getTime()<r)return s.data;let o=n.promise.get();o||(o=e(),n.promise.set(o));try{const a=await o;return n.response.set({created:new Date,data:a}),a}finally{n.promise.clear()}}const Eo=e=>`blockNumber.${e}`;async function Ue(e,{cacheTime:t=e.cacheTime}={}){const r=await xo(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Eo(e.uid),cacheTime:t});return BigInt(r)}async function st(e,{filter:t}){const r="strict"in t&&t.strict,n=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof n[0]=="string")return n;const s=n.map(o=>Z(o));return!("abi"in t)||!t.abi?s:Wt({abi:t.abi,logs:s,strict:r})}async function ot(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function To(e,t){const{abi:r,address:n,args:s,batch:o=!0,eventName:a,fromBlock:i,onError:u,onLogs:c,poll:d,pollingInterval:f=e.pollingInterval,strict:l}=t;return(typeof d<"u"?d:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))?(()=>{const g=l??!1,m=C(["watchContractEvent",n,s,o,e.uid,a,f,g,i]);return Q(m,{onLogs:c,onError:u},w=>{let P;i!==void 0&&(P=i-1n);let v,$=!1;const A=De(async()=>{var B;if(!$){try{v=await T(e,Nr,"createContractEventFilter")({abi:r,address:n,args:s,eventName:a,strict:g,fromBlock:i})}catch{}$=!0;return}try{let E;if(v)E=await T(e,st,"getFilterChanges")({filter:v});else{const x=await T(e,Ue,"getBlockNumber")({});P&&P!==x?E=await T(e,un,"getContractEvents")({abi:r,address:n,args:s,eventName:a,fromBlock:P+1n,toBlock:x,strict:g}):E=[],P=x}if(E.length===0)return;if(o)w.onLogs(E);else for(const x of E)w.onLogs([x])}catch(E){v&&E instanceof se&&($=!1),(B=w.onError)==null||B.call(w,E)}},{emitOnBegin:!0,interval:f});return async()=>{v&&await T(e,ot,"uninstallFilter")({filter:v}),A()}})})():(()=>{const g=l??!1,m=C(["watchContractEvent",n,s,o,e.uid,a,f,g]);let w=!0,P=()=>w=!1;return Q(m,{onLogs:c,onError:u},v=>((async()=>{try{const $=(()=>{if(e.transport.type==="fallback"){const E=e.transport.transports.find(x=>x.config.type==="webSocket");return E?E.value:e.transport}return e.transport})(),A=a?Ge({abi:r,eventName:a,args:s}):[],{unsubscribe:B}=await $.subscribe({params:["logs",{address:n,topics:A}],onData(E){var F;if(!w)return;const x=E.result;try{const{eventName:k,args:I}=Vt({abi:r,data:x.data,topics:x.topics,strict:l}),j=Z(x,{args:I,eventName:k});v.onLogs([j])}catch(k){let I,j;if(k instanceof ve||k instanceof Ke){if(l)return;I=k.abiItem.name,j=(F=k.abiItem.inputs)==null?void 0:F.some(ue=>!("name"in ue&&ue.name))}const _e=Z(x,{args:j?[]:{},eventName:I});v.onLogs([_e])}},onError(E){var x;(x=v.onError)==null||x.call(v,E)}});P=B,w||P()}catch($){u==null||u($)}})(),()=>P()))})()}async function Ao(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const Ft=256;let qe=Ft,He;function Bo(e=11){if(!He||qe+e>Ft*2){He="",qe=0;for(let t=0;t<Ft;t++)He+=(256+Math.random()*256|0).toString(16).substring(1)}return He.substring(qe,qe+++e)}function Oo(e){const{batch:t,cacheTime:r=e.pollingInterval??4e3,ccipRead:n,key:s="base",name:o="Base Client",pollingInterval:a=4e3,type:i="base"}=e,u=e.chain,c=e.account?X(e.account):void 0,{config:d,request:f,value:l}=e.transport({chain:u,pollingInterval:a}),p={...d,...l},h={account:c,batch:t,cacheTime:r,ccipRead:n,chain:u,key:s,name:o,pollingInterval:a,request:f,transport:p,type:i,uid:Bo()};function b(g){return m=>{const w=m(g);for(const v in h)delete w[v];const P={...g,...w};return Object.assign(P,{extend:b(P)})}}return Object.assign(h,{extend:b(h)})}function kt(e,{delay:t=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((s,o)=>{const a=async({count:i=0}={})=>{const u=async({error:c})=>{const d=typeof t=="function"?t({count:i,error:c}):t;d&&await $t(d),a({count:i+1})};try{const c=await e();s(c)}catch(c){if(i<r&&await n({count:i,error:c}))return u({error:c});o(c)}};a()})}function $o(e,t={}){return async(r,n={})=>{const{retryDelay:s=150,retryCount:o=3}={...t,...n};return kt(async()=>{try{return await e(r)}catch(a){const i=a;switch(i.code){case xe.code:throw new xe(i);case Ee.code:throw new Ee(i);case Te.code:throw new Te(i);case Ae.code:throw new Ae(i);case ne.code:throw new ne(i);case se.code:throw new se(i);case Be.code:throw new Be(i);case Oe.code:throw new Oe(i);case $e.code:throw new $e(i);case Fe.code:throw new Fe(i);case fe.code:throw new fe(i);case ke.code:throw new ke(i);case de.code:throw new de(i);case je.code:throw new je(i);case Ie.code:throw new Ie(i);case Ne.code:throw new Ne(i);case Ce.code:throw new Ce(i);case Re.code:throw new Re(i);case 5e3:throw new de(i);default:throw a instanceof y?a:new Us(i)}}},{delay:({count:a,error:i})=>{var u;if(i&&i instanceof ee){const c=(u=i==null?void 0:i.headers)==null?void 0:u.get("Retry-After");if(c!=null&&c.match(/\d/))return Number.parseInt(c)*1e3}return~~(1<<a)*s},retryCount:o,shouldRetry:({error:a})=>Fo(a)})}}function Fo(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===fe.code||e.code===ne.code:e instanceof ee&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function ko({key:e,name:t,request:r,retryCount:n=3,retryDelay:s=150,timeout:o,type:a},i){return{config:{key:e,name:t,request:r,retryCount:n,retryDelay:s,timeout:o,type:a},request:$o(r,{retryCount:n,retryDelay:s}),value:i}}class jo extends y{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function Io(e,{errorInstance:t=new Error("timed out"),timeout:r,signal:n}){return new Promise((s,o)=>{(async()=>{let a;try{const i=new AbortController;r>0&&(a=setTimeout(()=>{n&&i.abort()},r)),s(await e({signal:(i==null?void 0:i.signal)||null}))}catch(i){i.name==="AbortError"&&o(t),o(i)}finally{clearTimeout(a)}})()})}function No(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const vr=No();function Co(e,t={}){return{async request(r){var f;const{body:n,onRequest:s=t.onRequest,onResponse:o=t.onResponse,timeout:a=t.timeout??1e4}=r,i={...t.fetchOptions??{},...r.fetchOptions??{}},{headers:u,method:c,signal:d}=i;try{const l=await Io(async({signal:h})=>{const b={...i,body:Array.isArray(n)?C(n.map(w=>({jsonrpc:"2.0",id:w.id??vr.take(),...w}))):C({jsonrpc:"2.0",id:n.id??vr.take(),...n}),headers:{...u,"Content-Type":"application/json"},method:c||"POST",signal:d||(a>0?h:null)},g=new Request(e,b);return s&&await s(g),await fetch(e,b)},{errorInstance:new fr({body:n,url:e}),timeout:a,signal:!0});o&&await o(l);let p;if((f=l.headers.get("Content-Type"))!=null&&f.startsWith("application/json")?p=await l.json():(p=await l.text(),p=JSON.parse(p||"{}")),!l.ok)throw new ee({body:n,details:C(p.error)||l.statusText,headers:l.headers,status:l.status,url:e});return p}catch(l){throw l instanceof ee||l instanceof fr?l:new ee({body:n,details:l.message,url:e})}}}}function Wa(e,t={}){const{batch:r,fetchOptions:n,key:s="http",name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:i,retryDelay:u}=t;return({chain:c,retryCount:d,timeout:f})=>{const{batchSize:l=1e3,wait:p=0}=typeof r=="object"?r:{},h=t.retryCount??d,b=f??t.timeout??1e4,g=e||(c==null?void 0:c.rpcUrls.default.http[0]);if(!g)throw new jo;const m=Co(g,{fetchOptions:n,onRequest:a,onResponse:i,timeout:b});return ko({key:s,name:o,async request({method:w,params:P}){const v={method:w,params:P},{schedule:$}=fn({id:g,wait:p,shouldSplitBatch(x){return x.length>l},fn:x=>m.request({body:x}),sort:(x,F)=>x.id-F.id}),A=async x=>r?$(x):[await m.request({body:x})],[{error:B,result:E}]=await A(v);if(B)throw new qr({body:v,error:B,url:g});return E},retryCount:h,retryDelay:u,timeout:b,type:"http"},{fetchOptions:n,url:g})}}function Zt(e,t){var n,s,o,a,i,u;if(!(e instanceof y))return!1;const r=e.walk(c=>c instanceof mt);return r instanceof mt?!!(((n=r.data)==null?void 0:n.errorName)==="ResolverNotFound"||((s=r.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||((o=r.data)==null?void 0:o.errorName)==="ResolverNotContract"||((a=r.data)==null?void 0:a.errorName)==="ResolverError"||((i=r.data)==null?void 0:i.errorName)==="HttpError"||(u=r.reason)!=null&&u.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&r.reason===Cr[50]):!1}function bn(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return G(t)?t:null}function Ve(e){let t=new Uint8Array(32).fill(0);if(!e)return R(t);const r=e.split(".");for(let n=r.length-1;n>=0;n-=1){const s=bn(r[n]),o=s?W(s):S(_(r[n]),"bytes");t=S(D([t,o]),"bytes")}return R(t)}function Ro(e){return`[${e.slice(2)}]`}function So(e){const t=new Uint8Array(32).fill(0);return e?bn(e)||S(_(e)):R(t)}function at(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const r=new Uint8Array(_(t).byteLength+2);let n=0;const s=t.split(".");for(let o=0;o<s.length;o++){let a=_(s[o]);a.byteLength>255&&(a=_(Ro(So(s[o])))),r[n]=a.length,r.set(a,n+1),n+=a.length+1}return r.byteLength!==n+1?r.slice(0,n+1):r}async function Mo(e,{blockNumber:t,blockTag:r,coinType:n,name:s,gatewayUrls:o,strict:a,universalResolverAddress:i}){let u=i;if(!u){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");u=me({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const c=ie({abi:gr,functionName:"addr",...n!=null?{args:[Ve(s),BigInt(n)]}:{args:[Ve(s)]}}),d={address:u,abi:ln,functionName:"resolve",args:[ae(at(s)),c],blockNumber:t,blockTag:r},f=T(e,Y,"readContract"),l=o?await f({...d,args:[...d.args,o]}):await f(d);if(l[0]==="0x")return null;const p=he({abi:gr,args:n!=null?[Ve(s),BigInt(n)]:void 0,functionName:"addr",data:l[0]});return p==="0x"||et(p)==="0x00"?null:p}catch(c){if(a)throw c;if(Zt(c,"resolve"))return null;throw c}}class zo extends y{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class ge extends y{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class Yt extends y{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class Go extends y{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const Lo=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Do=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Uo=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,_o=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function qo(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const r=t.headers.get("content-type");return r==null?void 0:r.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(r=>{const n=new Image;n.onload=()=>{r(!0)},n.onerror=()=>{r(!1)},n.src=e})}}function Pr(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function pn({uri:e,gatewayUrls:t}){const r=Uo.test(e);if(r)return{uri:e,isOnChain:!0,isEncoded:r};const n=Pr(t==null?void 0:t.ipfs,"https://ipfs.io"),s=Pr(t==null?void 0:t.arweave,"https://arweave.net"),o=e.match(Lo),{protocol:a,subpath:i,target:u,subtarget:c=""}=(o==null?void 0:o.groups)||{},d=a==="ipns:/"||i==="ipns/",f=a==="ipfs:/"||i==="ipfs/"||Do.test(e);if(e.startsWith("http")&&!d&&!f){let p=e;return t!=null&&t.arweave&&(p=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:p,isOnChain:!1,isEncoded:!1}}if((d||f)&&u)return{uri:`${n}/${d?"ipns":"ipfs"}/${u}${c}`,isOnChain:!1,isEncoded:!1};if(a==="ar:/"&&u)return{uri:`${s}/${u}${c||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace(_o,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new Yt({uri:e})}function hn(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new zo({data:e});return e.image||e.image_url||e.image_data}async function Ho({gatewayUrls:e,uri:t}){try{const r=await fetch(t).then(s=>s.json());return await Qt({gatewayUrls:e,uri:hn(r)})}catch{throw new Yt({uri:t})}}async function Qt({gatewayUrls:e,uri:t}){const{uri:r,isOnChain:n}=pn({uri:t,gatewayUrls:e});if(n||await qo(r))return r;throw new Yt({uri:t})}function Vo(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[r,n,s]=t.split("/"),[o,a]=r.split(":"),[i,u]=n.split(":");if(!o||o.toLowerCase()!=="eip155")throw new ge({reason:"Only EIP-155 supported"});if(!a)throw new ge({reason:"Chain ID not found"});if(!u)throw new ge({reason:"Contract address not found"});if(!s)throw new ge({reason:"Token ID not found"});if(!i)throw new ge({reason:"ERC namespace not found"});return{chainID:Number.parseInt(a),namespace:i.toLowerCase(),contractAddress:u,tokenID:s}}async function Wo(e,{nft:t}){if(t.namespace==="erc721")return Y(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return Y(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Go({namespace:t.namespace})}async function Jo(e,{gatewayUrls:t,record:r}){return/eip155:/i.test(r)?Zo(e,{gatewayUrls:t,record:r}):Qt({uri:r,gatewayUrls:t})}async function Zo(e,{gatewayUrls:t,record:r}){const n=Vo(r),s=await Wo(e,{nft:n}),{uri:o,isOnChain:a,isEncoded:i}=pn({uri:s,gatewayUrls:t});if(a&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const c=i?atob(o.replace("data:application/json;base64,","")):o,d=JSON.parse(c);return Qt({uri:hn(d),gatewayUrls:t})}let u=n.tokenID;return n.namespace==="erc1155"&&(u=u.replace("0x","").padStart(64,"0")),Ho({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,u)})}async function mn(e,{blockNumber:t,blockTag:r,name:n,key:s,gatewayUrls:o,strict:a,universalResolverAddress:i}){let u=i;if(!u){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");u=me({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const c={address:u,abi:ln,functionName:"resolve",args:[ae(at(n)),ie({abi:yr,functionName:"text",args:[Ve(n),s]})],blockNumber:t,blockTag:r},d=T(e,Y,"readContract"),f=o?await d({...c,args:[...c.args,o]}):await d(c);if(f[0]==="0x")return null;const l=he({abi:yr,functionName:"text",data:f[0]});return l===""?null:l}catch(c){if(a)throw c;if(Zt(c,"resolve"))return null;throw c}}async function Yo(e,{blockNumber:t,blockTag:r,assetGatewayUrls:n,name:s,gatewayUrls:o,strict:a,universalResolverAddress:i}){const u=await T(e,mn,"getEnsText")({blockNumber:t,blockTag:r,key:"avatar",name:s,universalResolverAddress:i,gatewayUrls:o,strict:a});if(!u)return null;try{return await Jo(e,{record:u,gatewayUrls:n})}catch{return null}}async function Qo(e,{address:t,blockNumber:r,blockTag:n,gatewayUrls:s,strict:o,universalResolverAddress:a}){let i=a;if(!i){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=me({blockNumber:r,chain:e.chain,contract:"ensUniversalResolver"})}const u=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const c={address:i,abi:co,functionName:"reverse",args:[ae(at(u))],blockNumber:r,blockTag:n},d=T(e,Y,"readContract"),[f,l]=s?await d({...c,args:[...c.args,s]}):await d(c);return t.toLowerCase()!==l.toLowerCase()?null:f}catch(c){if(o)throw c;if(Zt(c,"reverse"))return null;throw c}}async function Xo(e,{blockNumber:t,blockTag:r,name:n,universalResolverAddress:s}){let o=s;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=me({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[a]=await T(e,Y,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[ae(at(n))],blockNumber:t,blockTag:r});return a}async function Ko(e){const t=tt(e,{method:"eth_newBlockFilter"}),r=await e.request({method:"eth_newBlockFilter"});return{id:r,request:t(r),type:"block"}}async function yn(e,{address:t,args:r,event:n,events:s,fromBlock:o,strict:a,toBlock:i}={}){const u=s??(n?[n]:void 0),c=tt(e,{method:"eth_newFilter"});let d=[];u&&(d=[u.flatMap(l=>Ge({abi:[l],eventName:l.name,args:r}))],n&&(d=d[0]));const f=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?O(o):o,toBlock:typeof i=="bigint"?O(i):i,...d.length?{topics:d}:{}}]});return{abi:u,args:r,eventName:n?n.name:void 0,fromBlock:o,id:f,request:c(f),strict:!!a,toBlock:i,type:"event"}}async function gn(e){const t=tt(e,{method:"eth_newPendingTransactionFilter"}),r=await e.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:t(r),type:"transaction"}}async function ea(e,{address:t,blockNumber:r,blockTag:n="latest"}){const s=r?O(r):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||n]});return BigInt(o)}async function ta(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function ra(e,{blockHash:t,blockNumber:r,blockTag:n="latest"}={}){const s=r!==void 0?O(r):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||n]}),V(o)}async function na(e,{address:t,blockNumber:r,blockTag:n="latest"}){const s=r!==void 0?O(r):void 0,o=await e.request({method:"eth_getCode",params:[t,s||n]});if(o!=="0x")return o}function sa(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(r=>BigInt(r)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(r=>r.map(n=>BigInt(n)))}}async function oa(e,{blockCount:t,blockNumber:r,blockTag:n="latest",rewardPercentiles:s}){const o=r?O(r):void 0,a=await e.request({method:"eth_feeHistory",params:[O(t),o||n,s]});return sa(a)}async function aa(e,{filter:t}){const r=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>Z(o));return t.abi?Wt({abi:t.abi,logs:s,strict:r}):s}class ia extends y{constructor({callbackSelector:t,cause:r,data:n,extraData:s,sender:o,urls:a}){var i;super(r.shortMessage||"An error occurred while fetching for an offchain result.",{cause:r,metaMessages:[...r.metaMessages||[],(i=r.metaMessages)!=null&&i.length?"":[],"Offchain Gateway Call:",a&&["  Gateway URL(s):",...a.map(u=>`    ${Me(u)}`)],`  Sender: ${o}`,`  Data: ${n}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat()}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupError"})}}class ua extends y{constructor({result:t,url:r}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${Me(r)}`,`Response: ${C(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupResponseMalformedError"})}}class ca extends y{constructor({sender:t,to:r}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${r}`,`OffchainLookup sender address: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupSenderMismatchError"})}}function wn(e,t){if(!L(e,{strict:!1}))throw new re({address:e});if(!L(t,{strict:!1}))throw new re({address:t});return e.toLowerCase()===t.toLowerCase()}const la="0x556f1830",vn={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function da(e,{blockNumber:t,blockTag:r,data:n,to:s}){const{args:o}=Mr({data:n,abi:[vn]}),[a,i,u,c,d]=o,{ccipRead:f}=e,l=f&&typeof(f==null?void 0:f.request)=="function"?f.request:Pn;try{if(!wn(s,a))throw new ca({sender:a,to:s});const p=await l({data:u,sender:a,urls:i}),{data:h}=await Le(e,{blockNumber:t,blockTag:r,data:D([c,be([{type:"bytes"},{type:"bytes"}],[p,d])]),to:s});return h}catch(p){throw new ia({callbackSelector:c,cause:p,data:n,extraData:d,sender:a,urls:i})}}async function Pn({data:e,sender:t,urls:r}){var s;let n=new Error("An unknown error occurred.");for(let o=0;o<r.length;o++){const a=r[o],i=a.includes("{data}")?"GET":"POST",u=i==="POST"?{data:e,sender:t}:void 0;try{const c=await fetch(a.replace("{sender}",t).replace("{data}",e),{body:JSON.stringify(u),method:i});let d;if((s=c.headers.get("Content-Type"))!=null&&s.startsWith("application/json")?d=(await c.json()).data:d=await c.text(),!c.ok){n=new ee({body:u,details:d!=null&&d.error?C(d.error):c.statusText,headers:c.headers,status:c.status,url:a});continue}if(!G(d)){n=new ua({result:d,url:a});continue}return d}catch(c){n=new ee({body:u,details:c.message,url:a})}}throw n}const fa=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:Pn,offchainLookup:da,offchainLookupAbiItem:vn,offchainLookupSignature:la},Symbol.toStringTag,{value:"Module"})),ba=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,pa=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function ha(e){const{domain:t={},message:r,primaryType:n}=e,s={EIP712Domain:va({domain:t}),...e.types};wa({domain:t,message:r,primaryType:n,types:s});const o=["0x1901"];return t&&o.push(ma({domain:t,types:s})),n!=="EIP712Domain"&&o.push(xn({data:r,primaryType:n,types:s})),S(D(o))}function ma({domain:e,types:t}){return xn({data:e,primaryType:"EIP712Domain",types:t})}function xn({data:e,primaryType:t,types:r}){const n=En({data:e,primaryType:t,types:r});return S(n)}function En({data:e,primaryType:t,types:r}){const n=[{type:"bytes32"}],s=[ya({primaryType:t,types:r})];for(const o of r[t]){const[a,i]=An({types:r,name:o.name,type:o.type,value:e[o.name]});n.push(a),s.push(i)}return be(n,s)}function ya({primaryType:e,types:t}){const r=ae(ga({primaryType:e,types:t}));return S(r)}function ga({primaryType:e,types:t}){let r="";const n=Tn({primaryType:e,types:t});n.delete(e);const s=[e,...Array.from(n).sort()];for(const o of s)r+=`${o}(${t[o].map(({name:a,type:i})=>`${i} ${a}`).join(",")})`;return r}function Tn({primaryType:e,types:t},r=new Set){const n=e.match(/^\w*/u),s=n==null?void 0:n[0];if(r.has(s)||t[s]===void 0)return r;r.add(s);for(const o of t[s])Tn({primaryType:o.type,types:t},r);return r}function An({types:e,name:t,type:r,value:n}){if(e[r]!==void 0)return[{type:"bytes32"},S(En({data:n,primaryType:r,types:e}))];if(r==="bytes")return n=`0x${(n.length%2?"0":"")+n.slice(2)}`,[{type:"bytes32"},S(n)];if(r==="string")return[{type:"bytes32"},S(ae(n))];if(r.lastIndexOf("]")===r.length-1){const s=r.slice(0,r.lastIndexOf("[")),o=n.map(a=>An({name:t,type:s,types:e,value:a}));return[{type:"bytes32"},S(be(o.map(([a])=>a),o.map(([,a])=>a)))]}return[{type:r},n]}function wa(e){const{domain:t,message:r,primaryType:n,types:s}=e,o=(a,i)=>{for(const u of a){const{name:c,type:d}=u,f=i[c],l=d.match(pa);if(l&&(typeof f=="number"||typeof f=="bigint")){const[b,g,m]=l;O(f,{signed:g==="int",size:Number.parseInt(m)/8})}if(d==="address"&&typeof f=="string"&&!L(f))throw new re({address:f});const p=d.match(ba);if(p){const[b,g]=p;if(g&&N(f)!==Number.parseInt(g))throw new Wn({expectedSize:Number.parseInt(g),givenSize:N(f)})}const h=s[d];h&&o(h,f)}};if(s.EIP712Domain&&t&&o(s.EIP712Domain,t),n!=="EIP712Domain"){const a=s[n];o(a,r)}}function va({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},typeof(e==null?void 0:e.chainId)=="number"&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}const ft="/docs/contract/encodeDeployData";function Pa(e){const{abi:t,args:r,bytecode:n}=e;if(!r||r.length===0)return n;const s=t.find(a=>"type"in a&&a.type==="constructor");if(!s)throw new Ln({docsPath:ft});if(!("inputs"in s))throw new rr({docsPath:ft});if(!s.inputs||s.inputs.length===0)throw new rr({docsPath:ft});const o=be(s.inputs,r);return Ct([n,o])}const xa={"0x0":"reverted","0x1":"success"};function Ea(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>Z(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?V(e.transactionIndex):null,status:e.status?xa[e.status]:null,type:e.type?Yr[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}const Ta=`Ethereum Signed Message:
`;function Bn(e,t){const r=typeof e=="string"?_(e):e.raw instanceof Uint8Array?e.raw:W(e.raw),n=_(`${Ta}${r.length}`);return S(D([n,r]),t)}function Aa(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function Ba(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?V(e.nonce):void 0,storageProof:e.storageProof?Aa(e.storageProof):void 0}}async function Oa(e,{address:t,blockNumber:r,blockTag:n,storageKeys:s}){const o=n??"latest",a=r!==void 0?O(r):void 0,i=await e.request({method:"eth_getProof",params:[t,s,a||o]});return Ba(i)}async function $a(e,{address:t,blockNumber:r,blockTag:n="latest",slot:s}){const o=r!==void 0?O(r):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||n]})}async function Xt(e,{blockHash:t,blockNumber:r,blockTag:n,hash:s,index:o}){var d,f,l;const a=n||"latest",i=r!==void 0?O(r):void 0;let u=null;if(s?u=await e.request({method:"eth_getTransactionByHash",params:[s]}):t?u=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,O(o)]}):u=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[i||a,O(o)]}),!u)throw new Dr({blockHash:t,blockNumber:r,blockTag:a,hash:s,index:o});return(((l=(f=(d=e.chain)==null?void 0:d.formatters)==null?void 0:f.transaction)==null?void 0:l.format)||Qr)(u)}async function Fa(e,{hash:t,transactionReceipt:r}){const[n,s]=await Promise.all([T(e,Ue,"getBlockNumber")({}),t?T(e,Xt,"getBlockNumber")({hash:t}):void 0]),o=(r==null?void 0:r.blockNumber)||(s==null?void 0:s.blockNumber);return o?n-o+1n:0n}async function jt(e,{hash:t}){var s,o,a;const r=await e.request({method:"eth_getTransactionReceipt",params:[t]});if(!r)throw new Ur({hash:t});return(((a=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionReceipt)==null?void 0:a.format)||Ea)(r)}async function ka(e,t){var g;const{allowFailure:r=!0,batchSize:n,blockNumber:s,blockTag:o,multicallAddress:a,stateOverride:i}=t,u=t.contracts,c=n??(typeof((g=e.batch)==null?void 0:g.multicall)=="object"&&e.batch.multicall.batchSize||1024);let d=a;if(!d){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");d=me({blockNumber:s,chain:e.chain,contract:"multicall3"})}const f=[[]];let l=0,p=0;for(let m=0;m<u.length;m++){const{abi:w,address:P,args:v,functionName:$}=u[m];try{const A=ie({abi:w,args:v,functionName:$});p+=(A.length-2)/2,c>0&&p>c&&f[l].length>0&&(l++,p=(A.length-2)/2,f[l]=[]),f[l]=[...f[l],{allowFailure:!0,callData:A,target:P}]}catch(A){const B=Se(A,{abi:w,address:P,args:v,docsPath:"/docs/contract/multicall",functionName:$});if(!r)throw B;f[l]=[...f[l],{allowFailure:!0,callData:"0x",target:P}]}}const h=await Promise.allSettled(f.map(m=>T(e,Y,"readContract")({abi:Bt,address:d,args:[m],blockNumber:s,blockTag:o,functionName:"aggregate3",stateOverride:i}))),b=[];for(let m=0;m<h.length;m++){const w=h[m];if(w.status==="rejected"){if(!r)throw w.reason;for(let v=0;v<f[m].length;v++)b.push({status:"failure",error:w.reason,result:void 0});continue}const P=w.value;for(let v=0;v<P.length;v++){const{returnData:$,success:A}=P[v],{callData:B}=f[m][v],{abi:E,address:x,functionName:F,args:k}=u[b.length];try{if(B==="0x")throw new Xe;if(!A)throw new Gt({data:$});const I=he({abi:E,args:k,data:$,functionName:F});b.push(r?{result:I,status:"success"}:I)}catch(I){const j=Se(I,{abi:E,address:x,args:k,docsPath:"/docs/contract/multicall",functionName:F});if(!r)throw j;b.push({error:j,result:void 0,status:"failure"})}}}if(b.length!==u.length)throw new y("multicall results mismatch");return b}const ja="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";function Ia(e,t){const r=G(e)?W(e):e,n=G(t)?W(t):t;return Rn(r,n)}function Na({r:e,s:t,v:r,yParity:n}){const s=(()=>{if(n===0||n===1)return n;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})();return`0x${new Sn.Signature(we(e),we(t)).toCompactHex()}${s===0?"1b":"1c"}`}async function Kt(e,{address:t,hash:r,signature:n,...s}){const o=G(n)?n:typeof n=="object"&&"r"in n&&"s"in n?Na(n):R(n);try{const{data:a}=await T(e,Le,"call")({data:Pa({abi:lo,args:[t,r,o],bytecode:ja}),...s});return Ia(a??"0x0","0x1")}catch(a){if(a instanceof _r)return!1;throw a}}async function Ca(e,{address:t,message:r,signature:n,...s}){const o=Bn(r);return Kt(e,{address:t,hash:o,signature:n,...s})}async function Ra(e,t){const{address:r,signature:n,message:s,primaryType:o,types:a,domain:i,...u}=t,c=ha({message:s,primaryType:o,types:a,domain:i});return Kt(e,{address:r,hash:c,signature:n,...u})}function On(e,{emitOnBegin:t=!1,emitMissed:r=!1,onBlockNumber:n,onError:s,poll:o,pollingInterval:a=e.pollingInterval}){const i=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket");let u;return i?(()=>{const f=C(["watchBlockNumber",e.uid,t,r,a]);return Q(f,{onBlockNumber:n,onError:s},l=>De(async()=>{var p;try{const h=await T(e,Ue,"getBlockNumber")({cacheTime:0});if(u){if(h===u)return;if(h-u>1&&r)for(let b=u+1n;b<h;b++)l.onBlockNumber(b,u),u=b}(!u||h>u)&&(l.onBlockNumber(h,u),u=h)}catch(h){(p=l.onError)==null||p.call(l,h)}},{emitOnBegin:t,interval:a}))})():(()=>{const f=C(["watchBlockNumber",e.uid,t,r]);return Q(f,{onBlockNumber:n,onError:s},l=>{let p=!0,h=()=>p=!1;return(async()=>{try{const b=(()=>{if(e.transport.type==="fallback"){const m=e.transport.transports.find(w=>w.config.type==="webSocket");return m?m.value:e.transport}return e.transport})(),{unsubscribe:g}=await b.subscribe({params:["newHeads"],onData(m){var P;if(!p)return;const w=we((P=m.result)==null?void 0:P.number);l.onBlockNumber(w,u),u=w},onError(m){var w;(w=l.onError)==null||w.call(l,m)}});h=g,p||h()}catch(b){s==null||s(b)}})(),()=>h()})})()}async function Sa(e,{confirmations:t=1,hash:r,onReplaced:n,pollingInterval:s=e.pollingInterval,retryCount:o=6,retryDelay:a=({count:u})=>~~(1<<u)*200,timeout:i}){const u=C(["waitForTransactionReceipt",e.uid,r]);let c=0,d,f,l,p=!1;return new Promise((h,b)=>{i&&setTimeout(()=>b(new dr({hash:r})),i);const g=Q(u,{onReplaced:n,resolve:h,reject:b},m=>{const w=T(e,On,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(P){const v=A=>{w(),A(),g()};let $=P;if(!p){c>o&&v(()=>m.reject(new dr({hash:r})));try{if(l){if(t>1&&(!l.blockNumber||$-l.blockNumber+1n<t))return;v(()=>m.resolve(l));return}if(d||(p=!0,await kt(async()=>{d=await T(e,Xt,"getTransaction")({hash:r}),d.blockNumber&&($=d.blockNumber)},{delay:a,retryCount:o}),p=!1),l=await T(e,jt,"getTransactionReceipt")({hash:r}),t>1&&(!l.blockNumber||$-l.blockNumber+1n<t))return;v(()=>m.resolve(l))}catch(A){if(A instanceof Dr||A instanceof Ur){if(!d){p=!1;return}try{f=d,p=!0;const B=await kt(()=>T(e,J,"getBlock")({blockNumber:$,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:F})=>F instanceof Zr});p=!1;const E=B.transactions.find(({from:F,nonce:k})=>F===f.from&&k===f.nonce);if(!E||(l=await T(e,jt,"getTransactionReceipt")({hash:E.hash}),t>1&&(!l.blockNumber||$-l.blockNumber+1n<t)))return;let x="replaced";E.to===f.to&&E.value===f.value?x="repriced":E.from===E.to&&E.value===0n&&(x="cancelled"),v(()=>{var F;(F=m.onReplaced)==null||F.call(m,{reason:x,replacedTransaction:f,transaction:E,transactionReceipt:l}),m.resolve(l)})}catch(B){v(()=>m.reject(B))}}else v(()=>m.reject(A))}finally{c++}}}})})})}function Ma(e,{blockTag:t="latest",emitMissed:r=!1,emitOnBegin:n=!1,onBlock:s,onError:o,includeTransactions:a,poll:i,pollingInterval:u=e.pollingInterval}){const c=typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),d=a??!1;let f;return c?(()=>{const h=C(["watchBlocks",e.uid,t,r,n,d,u]);return Q(h,{onBlock:s,onError:o},b=>De(async()=>{var g;try{const m=await T(e,J,"getBlock")({blockTag:t,includeTransactions:d});if(m.number&&(f!=null&&f.number)){if(m.number===f.number)return;if(m.number-f.number>1&&r)for(let w=(f==null?void 0:f.number)+1n;w<m.number;w++){const P=await T(e,J,"getBlock")({blockNumber:w,includeTransactions:d});b.onBlock(P,f),f=P}}(!(f!=null&&f.number)||t==="pending"&&!(m!=null&&m.number)||m.number&&m.number>f.number)&&(b.onBlock(m,f),f=m)}catch(m){(g=b.onError)==null||g.call(b,m)}},{emitOnBegin:n,interval:u}))})():(()=>{let h=!0,b=()=>h=!1;return(async()=>{try{const g=(()=>{if(e.transport.type==="fallback"){const w=e.transport.transports.find(P=>P.config.type==="webSocket");return w?w.value:e.transport}return e.transport})(),{unsubscribe:m}=await g.subscribe({params:["newHeads"],onData(w){var $,A,B;if(!h)return;const v=(((B=(A=($=e.chain)==null?void 0:$.formatters)==null?void 0:A.block)==null?void 0:B.format)||Xr)(w.result);s(v,f),f=v},onError(w){o==null||o(w)}});b=m,h||b()}catch(g){o==null||o(g)}})(),()=>b()})()}function za(e,{address:t,args:r,batch:n=!0,event:s,events:o,fromBlock:a,onError:i,onLogs:u,poll:c,pollingInterval:d=e.pollingInterval,strict:f}){const l=typeof c<"u"?c:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),p=f??!1;return l?(()=>{const g=C(["watchEvent",t,r,n,e.uid,s,d,a]);return Q(g,{onLogs:u,onError:i},m=>{let w;a!==void 0&&(w=a-1n);let P,v=!1;const $=De(async()=>{var A;if(!v){try{P=await T(e,yn,"createEventFilter")({address:t,args:r,event:s,events:o,strict:p,fromBlock:a})}catch{}v=!0;return}try{let B;if(P)B=await T(e,st,"getFilterChanges")({filter:P});else{const E=await T(e,Ue,"getBlockNumber")({});w&&w!==E?B=await T(e,Jt,"getLogs")({address:t,args:r,event:s,events:o,fromBlock:w+1n,toBlock:E}):B=[],w=E}if(B.length===0)return;if(n)m.onLogs(B);else for(const E of B)m.onLogs([E])}catch(B){P&&B instanceof se&&(v=!1),(A=m.onError)==null||A.call(m,B)}},{emitOnBegin:!0,interval:d});return async()=>{P&&await T(e,ot,"uninstallFilter")({filter:P}),$()}})})():(()=>{let g=!0,m=()=>g=!1;return(async()=>{try{const w=(()=>{if(e.transport.type==="fallback"){const A=e.transport.transports.find(B=>B.config.type==="webSocket");return A?A.value:e.transport}return e.transport})(),P=o??(s?[s]:void 0);let v=[];P&&(v=[P.flatMap(A=>Ge({abi:[A],eventName:A.name,args:r}))],s&&(v=v[0]));const{unsubscribe:$}=await w.subscribe({params:["logs",{address:t,topics:v}],onData(A){var E;if(!g)return;const B=A.result;try{const{eventName:x,args:F}=Vt({abi:P??[],data:B.data,topics:B.topics,strict:p}),k=Z(B,{args:F,eventName:x});u([k])}catch(x){let F,k;if(x instanceof ve||x instanceof Ke){if(f)return;F=x.abiItem.name,k=(E=x.abiItem.inputs)==null?void 0:E.some(j=>!("name"in j&&j.name))}const I=Z(B,{args:k?[]:{},eventName:F});u([I])}},onError(A){i==null||i(A)}});m=$,g||m()}catch(w){i==null||i(w)}})(),()=>m()})()}function Ga(e,{batch:t=!0,onError:r,onTransactions:n,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket")?(()=>{const c=C(["watchPendingTransactions",e.uid,t,o]);return Q(c,{onTransactions:n,onError:r},d=>{let f;const l=De(async()=>{var p;try{if(!f)try{f=await T(e,gn,"createPendingTransactionFilter")({});return}catch(b){throw l(),b}const h=await T(e,st,"getFilterChanges")({filter:f});if(h.length===0)return;if(t)d.onTransactions(h);else for(const b of h)d.onTransactions([b])}catch(h){(p=d.onError)==null||p.call(d,h)}},{emitOnBegin:!0,interval:o});return async()=>{f&&await T(e,ot,"uninstallFilter")({filter:f}),l()}})})():(()=>{let c=!0,d=()=>c=!1;return(async()=>{try{const{unsubscribe:f}=await e.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!c)return;const p=l.result;n([p])},onError(l){r==null||r(l)}});d=f,c||d()}catch(f){r==null||r(f)}})(),()=>d()})()}function La(e){var f,l,p;const{scheme:t,statement:r,...n}=((f=e.match(Da))==null?void 0:f.groups)??{},{chainId:s,expirationTime:o,issuedAt:a,notBefore:i,requestId:u,...c}=((l=e.match(Ua))==null?void 0:l.groups)??{},d=(p=e.split("Resources:")[1])==null?void 0:p.split(`
- `).slice(1);return{...n,...c,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...a?{issuedAt:new Date(a)}:{},...i?{notBefore:new Date(i)}:{},...u?{requestId:u}:{},...d?{resources:d}:{},...t?{scheme:t}:{},...r?{statement:r}:{}}}const Da=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Ua=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function _a(e){const{address:t,domain:r,message:n,nonce:s,scheme:o,time:a=new Date}=e;if(r&&n.domain!==r||s&&n.nonce!==s||o&&n.scheme!==o||n.expirationTime&&a>=n.expirationTime||n.notBefore&&a<n.notBefore)return!1;try{if(!n.address||t&&!wn(n.address,t))return!1}catch{return!1}return!0}async function qa(e,t){const{address:r,domain:n,message:s,nonce:o,scheme:a,signature:i,time:u=new Date,...c}=t,d=La(s);if(!d.address||!_a({address:r,domain:n,message:d,nonce:o,scheme:a,time:u}))return!1;const l=Bn(s);return Kt(e,{address:d.address,hash:l,signature:i,...c})}function Ha(e){return{call:t=>Le(e,t),createBlockFilter:()=>Ko(e),createContractEventFilter:t=>Nr(e,t),createEventFilter:t=>yn(e,t),createPendingTransactionFilter:()=>gn(e),estimateContractGas:t=>io(e,t),estimateGas:t=>Ht(e,t),getBalance:t=>ea(e,t),getBlobBaseFee:()=>ta(e),getBlock:t=>J(e,t),getBlockNumber:t=>Ue(e,t),getBlockTransactionCount:t=>ra(e,t),getBytecode:t=>na(e,t),getChainId:()=>on(e),getContractEvents:t=>un(e,t),getEnsAddress:t=>Mo(e,t),getEnsAvatar:t=>Yo(e,t),getEnsName:t=>Qo(e,t),getEnsResolver:t=>Xo(e,t),getEnsText:t=>mn(e,t),getFeeHistory:t=>oa(e,t),estimateFeesPerGas:t=>Qs(e,t),getFilterChanges:t=>st(e,t),getFilterLogs:t=>aa(e,t),getGasPrice:()=>_t(e),getLogs:t=>Jt(e,t),getProof:t=>Oa(e,t),estimateMaxPriorityFeePerGas:t=>Ys(e,t),getStorageAt:t=>$a(e,t),getTransaction:t=>Xt(e,t),getTransactionConfirmations:t=>Fa(e,t),getTransactionCount:t=>en(e,t),getTransactionReceipt:t=>jt(e,t),multicall:t=>ka(e,t),prepareTransactionRequest:t=>an(e,t),readContract:t=>Y(e,t),sendRawTransaction:t=>Ao(e,t),simulateContract:t=>yo(e,t),verifyMessage:t=>Ca(e,t),verifySiweMessage:t=>qa(e,t),verifyTypedData:t=>Ra(e,t),uninstallFilter:t=>ot(e,t),waitForTransactionReceipt:t=>Sa(e,t),watchBlocks:t=>Ma(e,t),watchBlockNumber:t=>On(e,t),watchContractEvent:t=>To(e,t),watchEvent:t=>za(e,t),watchPendingTransactions:t=>Ga(e,t)}}function Ja(e){const{key:t="public",name:r="Public Client"}=e;return Oo({...e,key:t,name:r,type:"publicClient"}).extend(Ha)}export{Ln as AbiConstructorNotFoundError,rr as AbiConstructorParamsNotFoundError,Er as AbiDecodingDataSizeTooSmallError,Xe as AbiDecodingZeroDataError,Dn as AbiEncodingArrayLengthMismatchError,Un as AbiEncodingBytesSizeMismatchError,_n as AbiEncodingLengthMismatchError,Tr as AbiErrorSignatureNotFoundError,nr as AbiEventNotFoundError,qn as AbiEventSignatureEmptyTopicsError,Ar as AbiEventSignatureNotFoundError,We as AbiFunctionNotFoundError,Hn as AbiFunctionOutputsNotFoundError,Cs as AccountStateConflictError,y as BaseError,Js as BaseFeeScalarError,Zr as BlockNotFoundError,Wn as BytesSizeMismatchError,_r as CallExecutionError,Ce as ChainDisconnectedError,Ot as ChainDoesNotSupportContract,dn as ClientChainNotConfiguredError,Gs as ContractFunctionExecutionError,mt as ContractFunctionRevertedError,Ls as ContractFunctionZeroDataError,ve as DecodeLogDataMismatch,Ke as DecodeLogTopicsMismatch,Ut as Eip1559FeesNotSupportedError,ge as EnsAvatarInvalidNftUriError,Go as EnsAvatarUnsupportedNamespaceError,Yt as EnsAvatarUriResolutionError,qs as EstimateGasExecutionError,ce as ExecutionRevertedError,Ze as FeeCapTooHighError,yt as FeeCapTooLowError,Ms as FeeConflictError,Xn as FilterTypeNotSupportedError,ee as HttpRequestError,Pt as InsufficientFundsError,Qa as IntegerOutOfRangeError,ne as InternalRpcError,xt as IntrinsicGasTooHighError,Et as IntrinsicGasTooLowError,Zn as InvalidAbiDecodingTypeError,Jn as InvalidAbiEncodingTypeError,re as InvalidAddressError,Yn as InvalidArrayError,jn as InvalidBytesBooleanError,Qn as InvalidDefinitionTypeError,se as InvalidInputRpcError,Ae as InvalidParamsRpcError,Ee as InvalidRequestRpcError,zs as InvalidSerializableTransactionError,ke as JsonRpcVersionUnsupportedError,fe as LimitExceededRpcError,Zs as MaxFeePerGasTooLowError,Te as MethodNotFoundRpcError,Fe as MethodNotSupportedRpcError,vt as NonceMaxValueError,gt as NonceTooHighError,wt as NonceTooLowError,xe as ParseRpcError,Ne as ProviderDisconnectedError,pe as ProviderRpcError,Gt as RawContractError,Be as ResourceNotFoundRpcError,Oe as ResourceUnavailableRpcError,M as RpcError,qr as RpcRequestError,Xa as SizeExceedsPaddingSizeError,Ka as SizeOverflowError,xr as SliceOffsetOutOfBoundsError,Rs as StateAssignmentConflictError,Re as SwitchChainError,fr as TimeoutError,Ye as TipAboveFeeCapError,Dr as TransactionNotFoundError,Ur as TransactionReceiptNotFoundError,$e as TransactionRejectedRpcError,Tt as TransactionTypeNotSupportedError,je as UnauthorizedProviderError,Lt as UnknownNodeError,Us as UnknownRpcError,Ie as UnsupportedProviderMethodError,jo as UrlRequiredError,de as UserRejectedRequestError,dr as WaitForTransactionReceiptTimeoutError,Dt as assertRequest,tn as blobsToCommitments,rn as blobsToProofs,es as boolToBytes,Fn as boolToHex,xs as bytesToBigInt,Es as bytesToBool,R as bytesToHex,q as bytesToNumber,Ts as bytesToString,Pn as ccipFetch,Pn as ccipRequest,$r as checksumAddress,Ks as commitmentToVersionedHash,eo as commitmentsToVersionedHashes,D as concat,is as concatBytes,Ct as concatHex,Oo as createClient,Ja as createPublicClient,ko as createTransport,rt as decodeAbiParameters,Mr as decodeErrorResult,Vt as decodeEventLog,he as decodeFunctionResult,be as encodeAbiParameters,Pa as encodeDeployData,Ge as encodeEventTopics,ie as encodeFunctionData,Is as etherUnits,Xr as formatBlock,Lr as formatEther,z as formatGwei,Z as formatLog,Qr as formatTransaction,Ea as formatTransactionReceipt,Wr as formatTransactionRequest,Gr as formatUnits,ze as getAbiItem,me as getChainContractAddress,Se as getContractError,Nt as getEventSelector,os as getEventSignature,zt as getFunctionSelector,os as getFunctionSignature,oo as getTransactionType,va as getTypesForEIP712Domain,Ns as gweiUnits,ma as hashDomain,Bn as hashMessage,ha as hashTypedData,we as hexToBigInt,te as hexToBytes,V as hexToNumber,Wa as http,L as isAddress,wn as isAddressEqual,G as isHex,S as keccak256,So as labelhash,Bt as multicall3Abi,Ve as namehash,ts as numberToBytes,O as numberToHex,da as offchainLookup,vn as offchainLookupAbiItem,la as offchainLookupSignature,It as pad,ei as padBytes,K as padHex,Wt as parseEventLogs,ys as prepareEncodeFunctionData,Ta as presignMessagePrefix,Ha as publicActions,Vs as rpcTransactionType,Na as serializeSignature,Xs as sha256,Na as signatureToHex,N as size,Je as slice,jr as sliceBytes,us as sliceHex,_ as stringToBytes,kn as stringToHex,C as stringify,so as toBlobSidecars,no as toBlobs,W as toBytes,Br as toEventHash,Nt as toEventSelector,os as toEventSignature,Br as toFunctionHash,zt as toFunctionSelector,os as toFunctionSignature,ae as toHex,Yr as transactionType,et as trim,wa as validateTypedData,kt as withRetry,Io as withTimeout};
